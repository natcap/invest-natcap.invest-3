<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>GRASS GIS manual: v.db.update</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">

<img src="grass_logo.png" alt="GRASS logo"><hr align=center size=6 noshade>

<h2>NAME</h2>
<em><b>v.db.update</b></em>  - Allows to update a column in the attribute table connected to a vector map.
<h2>KEYWORDS</h2>
vector, database, attribute table
<h2>SYNOPSIS</h2>
<b>v.db.update</b><br>
<b>v.db.update help</b><br>
<b>v.db.update</b> <b>map</b>=<em>string</em>  [<b>layer</b>=<em>string</em>]  <b>column</b>=<em>string</em>  [<b>value</b>=<em>string</em>]   [<b>qcolumn</b>=<em>string</em>]   [<b>where</b>=<em>string</em>]   [--<b>verbose</b>]  [--<b>quiet</b>] 


<h3>Parameters:</h3>
<DL>
<DT><b>map</b>=<em>string</em></DT>
<DD>Vector map to edit the attribute table for</DD>

<DT><b>layer</b>=<em>string</em></DT>
<DD>Layer to which the table to be changed is connected</DD>
<DD>Default: <em>1</em></DD>

<DT><b>column</b>=<em>string</em></DT>
<DD>Column to update</DD>

<DT><b>value</b>=<em>string</em></DT>
<DD>Value to update the column with (varchar values have to be in single quotes, e.g. 'grass')</DD>

<DT><b>qcolumn</b>=<em>string</em></DT>
<DD>Column to query</DD>

<DT><b>where</b>=<em>string</em></DT>
<DD>WHERE conditions for update, without 'where' keyword (e.g. cat=1 or col1/col2&gt;1)</DD>

</DL>
<h2>DESCRIPTION</h2>

<em>v.db.update</em> allows to assign a new value to a column in the
attribute table connected to a given map. Alternatively, values can
be copied from another column in the table.

<h2>NOTES</h2>

<em>v.db.update</em> is just a front-end to <em>db.execute</em> to allow easier usage.
<p>
For complex SQL UPDATE statements, <em>db.execute</em> should be used.

<h2>EXAMPLES</h2>

In this example, selectively display lakes without (blue) and with NULL (red)
are shown to find out which type is undefined. In the original map there are
lakes missing FTYPE attribute which are wetlands along streams. These NULL
attributes are replaced with the landuse type WETLAND:

<div class="code"><pre>
g.copy vect=lakes,mylakes
v.db.select mylakes
v.db.select mylakes where="FTYPE IS NULL"

# display the lakes, show undefined FTYPE lakes in red
g.region vect=mylakes
d.mon x0
d.vect mylakes where="FTYPE NOT NULL" type=area col=blue
d.vect mylakes where="FTYPE IS NULL" type=area col=red

# replace NULL with FTYPE WETLAND
v.db.update mylakes col=FTYPE value=WETLAND \
            where="FTYPE IS NULL"
v.db.select mylakes
<p>
Spearfish example: adding new column, copying values from other table column with
on the fly calculation:
<div class="code"><pre>
g.copy vect=fields,myfields
v.db.addcol myfields col="polynum integer"
v.db.update myfields col=polynum qcol="cat*2"
v.db.select myfields
</pre></div>

<p>
Type cast (type conversion) of strings to double precision (unsupported by DBF driver):
<div class="code"><pre>
g.copy vect=geodetic_pts,mygeodetic_pts
v.db.update mygeodetic_pts col=zval qcol="CAST(z_value AS double precision)" \
            where="z_value &lt;&gt; 'N/A'"
</pre></div>

<h2>SEE ALSO</h2>

<em>
<a href="db.execute.html">db.execute</a>,
<a href="v.db.addcolumn.html">v.db.addcolumn</a>,
<a href="v.db.addtable.html">v.db.addtable</a>,
<a href="v.db.connect.html">v.db.connect</a>,
<a href="v.db.droptable.html">v.db.droptable</a>,
<a href="v.db.join.html">v.db.join</a>,
<a href="v.db.select.html">v.db.select</a><br>
<a href="sql.html">GRASS SQL interface</a>
</em>


<h2>AUTHOR</h2>

Moritz Lennert (mlennert@club.worldonline.be)

<p><i>Last changed: $Date: 2011-11-08 12:29:50 +0100 (Ãºt, 08 XI 2011) $</i>
<HR>
<P><a href="index.html">Main index</a> - <a href="vector.html">vector index</a> - <a href="full_index.html">Full index</a></P>
<P>&copy; 2003-2011 <a href="http://grass.osgeo.org">GRASS Development Team</a></p>
</body>
</html>
