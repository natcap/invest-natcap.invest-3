<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>GRASS GIS manual: v.drape</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">

<img src="grass_logo.png" alt="GRASS logo"><hr align=center size=6 noshade>

<h2>NAME</h2>
<em><b>v.drape</b></em>  - Converts vector map to 3D by sampling of elevation raster map.
<h2>KEYWORDS</h2>
vector, geometry, sampling
<h2>SYNOPSIS</h2>
<b>v.drape</b><br>
<b>v.drape help</b><br>
<b>v.drape</b> <b>input</b>=<em>name</em>  [<b>type</b>=<em>string</em>[,<i>string</i>,...]]   [<b>rast</b>=<em>name</em>]  <b>output</b>=<em>name</em>  [<b>method</b>=<em>string</em>]   [<b>scale</b>=<em>float</em>]   [<b>where</b>=<em>sql_query</em>]   [<b>layer</b>=<em>integer</em>]   [<b>null_value</b>=<em>float</em>]   [--<b>overwrite</b>]  [--<b>verbose</b>]  [--<b>quiet</b>] 

<h3>Flags:</h3>
<DL>
<DT><b>--overwrite</b></DT>
<DD>Allow output files to overwrite existing files</DD>
<DT><b>--verbose</b></DT>
<DD>Verbose module output</DD>
<DT><b>--quiet</b></DT>
<DD>Quiet module output</DD>
</DL>

<h3>Parameters:</h3>
<DL>
<DT><b>input</b>=<em>name</em></DT>
<DD>Name of input vector map</DD>

<DT><b>type</b>=<em>string[,<i>string</i>,...]</em></DT>
<DD>Feature type</DD>
<DD>Options: <em>point,centroid,line,boundary,face,kernel</em></DD>
<DD>Default: <em>point,centroid,line,boundary,face,kernel</em></DD>

<DT><b>rast</b>=<em>name</em></DT>
<DD>Elevation raster map for height extraction</DD>

<DT><b>output</b>=<em>name</em></DT>
<DD>Name for output vector map</DD>

<DT><b>method</b>=<em>string</em></DT>
<DD>Sampling method</DD>
<DD>Options: <em>nearest,bilinear,cubic</em></DD>
<DD>Default: <em>nearest</em></DD>
<DD><b>nearest</b>: nearest neighbor</DD>
<DD><b>bilinear</b>: bilinear interpolation</DD>
<DD><b>cubic</b>: cubic convolution interpolation</DD>

<DT><b>scale</b>=<em>float</em></DT>
<DD>Scale sampled raster values</DD>
<DD>Default: <em>1.0</em></DD>

<DT><b>where</b>=<em>sql_query</em></DT>
<DD>WHERE conditions of SQL statement without 'where' keyword</DD>
<DD>Example: income &lt; 1000 and inhab &gt;= 10000</DD>

<DT><b>layer</b>=<em>integer</em></DT>
<DD>Layer number</DD>
<DD>Layer is only used for WHERE SQL statement</DD>
<DD>Default: <em>1</em></DD>

<DT><b>null_value</b>=<em>float</em></DT>
<DD>Vector Z value for unknown height</DD>
<DD>Will set Z to this value, if value from raster map can not be read</DD>

</DL>
<h2>DESCRIPTION</h2>

<p><em>v.drape</em> converts 2D/3D vector data into 3D vector format via
sampling of an elevation surface. Three sampling algorithms adapted
from <a href="v.sample.html">v.sample</a> were incorporated into this
module: nearest neighbor, bilinear, and cubic convultion.

<p>v.drape will skip vector features outside of current computational region or
where raster map has NULL value. It's possible to include all vector features
by specifying height value that will be assigned to verticles whose values
can not be determined from raster map.

<h2>NOTES</h2>
<p>
Additional vertices can be added to the input 2D vector map
with <a href="v.split.html">v.split</a>.

<p>
The module can be used in conjunction
with <a href="v.out.pov.html">v.out.pov</a> and
<a href="r.out.pov.html">r.out.pov</a> to export a complete set of
vector and raster data for display in POVRAY.

<h2>EXAMPLES</h2>

<p>Spearfish example:
<div class="code"><pre>
v.drape in=roads rast=elevation.10m method=bilinear out=roads3d
v.info roads3d
</pre></div>


<p>Create 3D vector roads map containing only "unimproved" roads.
Set road height to 1000 m for all parts without height information.
<div class="code"><pre>
v.drape input=roads type=line rast=elevation.dem output=roads_3d \
method=nearest scale=1.0 where='cat=5' layer=1 null_value=1000
</pre></div>


<h2>POVRAY EXAMPLE</h2>

<div class="code"><pre>
#export the vector data
v.drape in=roads out=roads3d rast=elevation.10m
v.out.pov roads3d out=roads3d.pov
#export the raster data
r.out.pov elevation.10m tga=elevation.tga
r.out.png landcover.30m out=landcover30m.png

# now write a complete povray-script and launch povray
</pre></div>

<h2>SEE ALSO</h2>

<em>
<a href="r.out.pov.html">r.out.pov</a>,
<a href="v.in.region.html">v.in.region</a>,
<a href="v.out.pov.html">v.out.pov</a>,
<a href="v.overlay.html">v.overlay</a>,
<a href="v.split.html">v.split</a>,
<a href="v.what.rast.html">v.what.rast</a>,
<a href="v.extrude.html">v.extrude</a>
</em>

<h2>AUTHOR</h2>

Dylan Beaudette, University of California at Davis.

<p><i>Last changed: $Date: 2011-11-08 12:29:50 +0100 (Ãºt, 08 XI 2011) $</i>
<HR>
<P><a href="index.html">Main index</a> - <a href="vector.html">vector index</a> - <a href="full_index.html">Full index</a></P>
<P>&copy; 2003-2011 <a href="http://grass.osgeo.org">GRASS Development Team</a></p>
</body>
</html>
