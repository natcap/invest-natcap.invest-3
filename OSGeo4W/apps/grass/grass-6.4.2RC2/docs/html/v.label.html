<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>GRASS GIS manual: v.label</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">

<img src="grass_logo.png" alt="GRASS logo"><hr align=center size=6 noshade>

<h2>NAME</h2>
<em><b>v.label</b></em>  - Creates paint labels for a vector map from attached attributes.
<h2>KEYWORDS</h2>
vector, paint labels
<h2>SYNOPSIS</h2>
<b>v.label</b><br>
<b>v.label help</b><br>
<b>v.label</b> [-<b>ac</b>]  [<b>labels</b>=<em>name</em>]  <b>map</b>=<em>name</em> <b>column</b>=<em>name</em>  [<b>type</b>=<em>string</em>[,<i>string</i>,...]]   [<b>layer</b>=<em>integer</em>]   [<b>where</b>=<em>sql_query</em>]   [<b>xoffset</b>=<em>float</em>]   [<b>yoffset</b>=<em>float</em>]   [<b>reference</b>=<em>string</em>[,<i>string</i>,...]]   [<b>font</b>=<em>string</em>]   [<b>size</b>=<em>float</em>]   [<b>space</b>=<em>float</em>]   [<b>fontsize</b>=<em>integer</em>]   [<b>color</b>=<em>name</em>]   [<b>rotation</b>=<em>angle</em>]   [<b>width</b>=<em>float</em>]   [<b>hcolor</b>=<em>name</em>]   [<b>hwidth</b>=<em>float</em>]   [<b>background</b>=<em>name</em>]   [<b>border</b>=<em>name</em>]   [<b>opaque</b>=<em>yes|no</em>]   [--<b>verbose</b>]  [--<b>quiet</b>] 

<h3>Flags:</h3>
<DL>
<DT><b>-a</b></DT>
<DD>Rotate labels to align with lines</DD>

<DT><b>-c</b></DT>
<DD>Curl labels along lines</DD>

<DT><b>--verbose</b></DT>
<DD>Verbose module output</DD>
<DT><b>--quiet</b></DT>
<DD>Quiet module output</DD>
</DL>

<h3>Parameters:</h3>
<DL>
<DT><b>labels</b>=<em>name</em></DT>
<DD>Name for new paint-label file</DD>
<DD>If not given the name of the input map is used</DD>

<DT><b>map</b>=<em>name</em></DT>
<DD>Name of input vector map</DD>

<DT><b>column</b>=<em>name</em></DT>
<DD>Name of attribute column to be used for labels</DD>

<DT><b>type</b>=<em>string[,<i>string</i>,...]</em></DT>
<DD>Feature type</DD>
<DD>Options: <em>point,line,boundary,centroid</em></DD>
<DD>Default: <em>point,line,boundary,centroid</em></DD>

<DT><b>layer</b>=<em>integer</em></DT>
<DD>Layer number</DD>
<DD>A single vector map can be connected to multiple database tables. This number determines which table to use.</DD>
<DD>Default: <em>1</em></DD>

<DT><b>where</b>=<em>sql_query</em></DT>
<DD>WHERE conditions of SQL statement without 'where' keyword</DD>
<DD>Example: income &lt; 1000 and inhab &gt;= 10000</DD>

<DT><b>xoffset</b>=<em>float</em></DT>
<DD>Offset label in x-direction</DD>
<DD>Default: <em>0</em></DD>

<DT><b>yoffset</b>=<em>float</em></DT>
<DD>Offset label in y-direction</DD>
<DD>Default: <em>0</em></DD>

<DT><b>reference</b>=<em>string[,<i>string</i>,...]</em></DT>
<DD>Reference position</DD>
<DD>Options: <em>center,left,right,upper,lower</em></DD>
<DD>Default: <em>center</em></DD>

<DT><b>font</b>=<em>string</em></DT>
<DD>Font name</DD>
<DD>Default: <em>standard</em></DD>

<DT><b>size</b>=<em>float</em></DT>
<DD>Label size (in map-units)</DD>
<DD>Default: <em>100</em></DD>

<DT><b>space</b>=<em>float</em></DT>
<DD>Space between letters for curled labels (in map-units)</DD>

<DT><b>fontsize</b>=<em>integer</em></DT>
<DD>Label size (in points)</DD>
<DD>Options: <em>1-1000</em></DD>

<DT><b>color</b>=<em>name</em></DT>
<DD>Text color</DD>
<DD>Either a standard color name or R:G:B triplet</DD>
<DD>Default: <em>black</em></DD>

<DT><b>rotation</b>=<em>angle</em></DT>
<DD>Rotation angle (degrees counter-clockwise)</DD>
<DD>Options: <em>0-360</em></DD>
<DD>Default: <em>0</em></DD>

<DT><b>width</b>=<em>float</em></DT>
<DD>Border width</DD>
<DD>Options: <em>0-25</em></DD>
<DD>Default: <em>1</em></DD>

<DT><b>hcolor</b>=<em>name</em></DT>
<DD>Highlight color for text</DD>
<DD>Either a standard GRASS color, R:G:B triplet, or "none"</DD>
<DD>Default: <em>none</em></DD>

<DT><b>hwidth</b>=<em>float</em></DT>
<DD>Width of highlight coloring</DD>
<DD>Default: <em>0</em></DD>

<DT><b>background</b>=<em>name</em></DT>
<DD>Background color</DD>
<DD>Either a standard GRASS color, R:G:B triplet, or "none"</DD>
<DD>Default: <em>none</em></DD>

<DT><b>border</b>=<em>name</em></DT>
<DD>Border color</DD>
<DD>Either a standard GRASS color, R:G:B triplet, or "none"</DD>
<DD>Default: <em>none</em></DD>

<DT><b>opaque</b>=<em>yes|no</em></DT>
<DD>Opaque to vector (only relevant if background color is selected)</DD>
<DD>Options: <em>yes,no</em></DD>
<DD>Default: <em>yes</em></DD>

</DL>
<h2>DESCRIPTION</h2>

<em>v.label</em> makes a label-file from a GRASS vector map
with labels created from attributes in the attached table.
If no label file name is given, the name of the source map is used.


<h2>NOTES</h2>

If the <em>fontsize</em> option is given then the <em>space</em> option
is determined automatically <em>from the current display window</em>, 
otherwise the <em>space</em> option should be set roughly the same
as the <em>size</em> option.
<p>

<br>
A description of the labels file follows.<p> 
The file is located in <tt>$MAPSET/paint/labels/</tt>.
The file is a plain-text ASCII file containing the following fields:
<br>
<h4>Caution: The following information may be incomplete, out of date, 
and wrong!</h4>
<p>
The label information that must be provided in the <em>labels</em> file is:

<dl>
<dt><b>TEXT</b>:

<dd><!--Up to four lines of text.-->
Lines in multiple line labels will appear one above the next.
More than one line of text can be specified by notating the end of a 
line with a '<b><tt>\n</tt></b>'.<br>
(e.g. <tt>SPEARFISH<b>\n</b>SOUTH DAKOTA)</tt>.


<!-- I don't think it exists. -HB 6/2005
<dt><b>SKIP</b>:

<dd>yes|no. If <em>no</em>, label will be printed.  If
<em>yes</em>, the label will be retained in the file but
not printed.
-->

<dt><b>LOCATION</b>:

<dd>Determines where the text will be located on the
image.  The user specifies the easting and northing, and
(optionally) specifies a vertical and horizontal 
offset from the specified easting/northing. 
These offsets are provided to allow finer placement of labels and
are measured in local pixels. Thus in 
<a href="d.labels.html"><i>d.labels</i></a> the offset is 
measured in screen pixels, and in <a href="ps.map.html"><i>ps.map</i></a> 
the offset is measured in PostScript points (i.e. 1/72" steps).


<dt><b>PLACEMENT</b>:

<dd>Determines which part of the label to which the
location refers.  If placement is unspecified, the label is
centered (<em>center</em>), by default.  Label placement
may be specified as:

<PRE>
	lower left	(lower left corner of the text)
	lower right	(lower right corner of the text)
	lower center	(bottom center of the text)

	upper left	(upper left corner of the text)
	upper right	(upper right corner of the text)
	upper center	(top center of the text)

	center	(center of the text)

</PRE>


<dt><b>FONT</b>:

<dd>This specifies the font to use.
<p>
The following fonts are available for use with
  <a href="d.labels.html"><i>d.labels</i></a>:
<p><pre>
  cyrilc gothgbt gothgrt gothitt greekc greekcs greekp greeks
  italicc italiccs italict romanc romancs romand romans romant
  scriptc scripts
</pre>
<p>
Alternatively the path to a FreeType (.ttf) font may be given.
(for <em>d.labels</em> only)
<p>
The word <em>standard</em> can be used to specify the default font 
(which is <em>romans</em>).
<p>
Note <a href="ps.map.html"><em>ps.map</em></a> can override this setting
to use other fonts. Its default font is Helvetica.


<dt><b>TEXT SIZE</b>:

<dd>This determines the size of the letters. The <em>size</em>
specifies the vertical height of the letters in meters on
the ground. Thus text will grow or shrink depending on the
scale at which the map is drawn.
Alternatively <em>fontsize</em> can set the font size in normal font points.


<dt><A NAME="textcolor"><b>TEXT COLOR</b></a>:

<dd>This selects the text color.  If unspecified, the
label's text is drawn in <em>black</em>, by default.  The
text color can be specified in one of several ways:

<ol>
<li>By color name:

<br>
<tt>aqua black blue brown cyan gray green grey indigo
magenta orange purple red violet white yellow</tt>

<li>As red, green, blue component values. (0-255)<br>
for example: <tt>128:100:200</tt>

<!-- eh?
<li>As red, green, blue percentages.
for example: .5 .4 .7
<br>
(This form is not supported by 
<em><a href="d.labels.html">d.labels</a></em>.)

<li>By printer color number to get the exact printer color.
<br>
(This form is not supported by 
<em><a href="d.labels.html">d.labels</a></em>.)
-->

<li>Specify "<tt>none</tt>" to suppress the lettering.
</ol>


<dt><b>WIDTH</b>:

<dd>This determines the line thickness of the border box.<br>
The maximum value is 25.0.

<dt><b>HIGHLIGHT COLOR</b>:

<dd>The text can be highlighted in another color so that it
appears to be in two colors. The text is drawn first in
this color at a wider line width, and then redrawn in the
text color at the regular line width.  No highlight color
("<tt>none</tt>") is used by default, if unspecified by the
user.  To specify use of no highlight color, specify
"<tt>none</tt>".
(See <a href="#textcolor">TEXT COLOR</a>
above for a list of permissible color names.)


<dt><b>HIGHLIGHT WIDTH</b>:

<dd>Specifies how far from the text lines (in units of
pixels) the highlight color should extend.  The default
highlight width is set to <em>0</em> (i.e., no highlight
color).


<dt><b>BACKGROUND COLOR</b>:

<dd>Text may be boxed in a solid color by specifying a background color.
Specify "<tt>none</tt>" for no background.  The default background color
setting, if unspecified by the user, is <em>white</em>.
(See <a href="#textcolor">TEXT COLOR</a>
above for a list of permissible color names.)


<dt><b>BORDER COLOR</b>:

<dd>Select a color for the border around the background.
Specify "<tt>none</tt>" to suppress the border.
The default border color used, if unspecified, is <em>black</em>.
(See <a href="#textcolor">TEXT COLOR</a>
above for a list of permissible color names.)


<dt><b>OPAQUE TO VECTORS</b>:

<dd><em>yes|no</em>.  This field only has meaning if a
background color is selected.  <em>yes</em> will prevent
vector lines from entering the background.  <em>no</em>
will allow vector lines to enter the background.  The
default setting, if unspecified by the user, is
<em>yes</em>.

</dl>
<br>


<h2>EXAMPLE</h2>

Spearfish example with TrueType font (path may differ):

<div class="code"><pre>
v.label -a map=roads column=label labels=lroads \
        font=/usr/X11R6/lib/X11/fonts/TTF/luximri.ttf
d.vect roads
d.labels lroads
</pre></div>

Since the label files are simple text files, you can merge them together
if you like. For example if you set the label colors based on database
attributes using multiple runs with the <b>where</b> option.
This example uses the standard UNIX <tt>cat</tt> program.

<div class="code"><pre>
cd $MAPSET/paint/labels/
cat file1 file2 file3 file4 > file_all
</pre></div>



<h2>SEE ALSO</h2>
<em>
<a href="d.labels.html">d.labels</a><br>
<a href="ps.map.html">ps.map</a>
</em>
<br>


<h2>AUTHORS</h2>

Philip Verhagen (original s.label)<br>
Radim Blazek (GRASS 6 port)<br>
Hamish Bowman (enhancements)<br>

<p>
<i>Last changed: $Date: 2011-11-08 12:29:50 +0100 (út, 08 XI 2011) $</i>
<HR>
<P><a href="index.html">Main index</a> - <a href="vector.html">vector index</a> - <a href="full_index.html">Full index</a></P>
<P>&copy; 2003-2011 <a href="http://grass.osgeo.org">GRASS Development Team</a></p>
</body>
</html>
