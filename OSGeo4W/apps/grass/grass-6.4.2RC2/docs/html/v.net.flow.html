<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>GRASS GIS manual: v.net.flow</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">

<img src="grass_logo.png" alt="GRASS logo"><hr align=center size=6 noshade>

<h2>NAME</h2>
<em><b>v.net.flow</b></em>  - Computes the maximum flow between two sets of nodes in the network.
<h2>KEYWORDS</h2>
vector, network, flow
<h2>SYNOPSIS</h2>
<b>v.net.flow</b><br>
<b>v.net.flow help</b><br>
<b>v.net.flow</b> <b>input</b>=<em>name</em>  [<b>layer</b>=<em>integer</em>]  <b>output</b>=<em>name</em> <b>cut</b>=<em>name</em>  [<b>afcolumn</b>=<em>name</em>]   [<b>abcolumn</b>=<em>name</em>]   [<b>source_layer</b>=<em>integer</em>]   [<b>source_cats</b>=<em>range</em>]   [<b>source_where</b>=<em>sql_query</em>]   [<b>sink_layer</b>=<em>integer</em>]   [<b>sink_cats</b>=<em>range</em>]   [<b>sink_where</b>=<em>sql_query</em>]   [--<b>overwrite</b>]  [--<b>verbose</b>]  [--<b>quiet</b>] 

<h3>Flags:</h3>
<DL>
<DT><b>--overwrite</b></DT>
<DD>Allow output files to overwrite existing files</DD>
<DT><b>--verbose</b></DT>
<DD>Verbose module output</DD>
<DT><b>--quiet</b></DT>
<DD>Quiet module output</DD>
</DL>

<h3>Parameters:</h3>
<DL>
<DT><b>input</b>=<em>name</em></DT>
<DD>Name of input vector map</DD>

<DT><b>layer</b>=<em>integer</em></DT>
<DD>Layer number</DD>
<DD>A single vector map can be connected to multiple database tables. This number determines which table to use.</DD>
<DD>Default: <em>1</em></DD>

<DT><b>output</b>=<em>name</em></DT>
<DD>Name for output vector map</DD>

<DT><b>cut</b>=<em>name</em></DT>
<DD>Name for output vector map containing a minimum cut</DD>

<DT><b>afcolumn</b>=<em>name</em></DT>
<DD>Name of arc forward/both direction(s) capacity column</DD>

<DT><b>abcolumn</b>=<em>name</em></DT>
<DD>Name of arc backward direction capacity column</DD>

<DT><b>source_layer</b>=<em>integer</em></DT>
<DD>Source layer number or name</DD>
<DD>A single vector map can be connected to multiple database tables. This number determines which table to use.</DD>
<DD>Default: <em>1</em></DD>

<DT><b>source_cats</b>=<em>range</em></DT>
<DD>Source category values</DD>
<DD>Example: 1,3,7-9,13</DD>

<DT><b>source_where</b>=<em>sql_query</em></DT>
<DD>Source WHERE conditions of SQL statement without 'where' keyword</DD>
<DD>Example: income &lt; 1000 and inhab &gt;= 10000</DD>

<DT><b>sink_layer</b>=<em>integer</em></DT>
<DD>Sink layer number or name</DD>
<DD>A single vector map can be connected to multiple database tables. This number determines which table to use.</DD>
<DD>Default: <em>1</em></DD>

<DT><b>sink_cats</b>=<em>range</em></DT>
<DD>Sink category values</DD>
<DD>Example: 1,3,7-9,13</DD>

<DT><b>sink_where</b>=<em>sql_query</em></DT>
<DD>Sink WHERE conditions of SQL statement without 'where' keyword</DD>
<DD>Example: income &lt; 1000 and inhab &gt;= 10000</DD>

</DL>
<h2>DESCRIPTION</h2>

<em>v.net.flow</em> computes the maximum flow and minimum cut between two sets of nodes.

<h2>NOTES</h2>
The two sets of nodes are called <em>sources</em> and <em>sink</em> and <em>v.net.flow</em> finds the maximimum flow from the former to the latter ones. Edge capacities can be specified by <b>afcolumn</b> for forward direction and <b>abcolumn</b> for backward direction. If the latter parameter is ommited then the same capacity is used in either direction. The sets are given by the respective <b>cats</b>, <b>layer</b> and <b>where</b> parameters. Maximum flow corresponds to the maximum amount of water possibly flowing through the network preserving the capacity constraints and minimum cut to set of edges of minimum total capacity completely separating sources from sinks. The cut produced by this module corresponds to the first fully saturated edges from sources to sinks. An attribute table containing the flow information is linked to the <b>output</b> map. The table consists of two columns: <em>cat</em> and <em>flow</em> and stores the flow along each line. Negative flow means that "water" is flowing in the backward direction. <b>Cut</b> map contains the edges in the minimum cut. <br>
A famous <a href="http://en.wikipedia.org/wiki/Max-flow_min-cut_theorem">result</a> says that the total amount of water flowing is equal to the minimum cut.
 

<h2>EXAMPLES</h2>

Find maximum flow from factories to stores using SPEED for the capacities.
<div class="code"><pre>
v.net.flow input=roads output=roads_flow cut=roads_cut afcolumn=SPEED source_where="type=factory" sink_where="type=store"
</pre></div>
<p>

If all the capacties are one then the minimum cut corresponds to the minimum number of edges separating sources from sinks. 
<div class="code"><pre>
v.net.flow input=network output=flow cut=cut afcolumn=ones source_cats=1-10 sink_cats=100-100
</pre></div>


<h2>SEE ALSO</h2>

<em>
<a href="v.net.connectivity.html">v.net.connectivity</a>
</em>


<h2>AUTHORS</h2>

Daniel Bundala, Google Summer of Code 2009, Student<br>
Wolf Bergenheim, Mentor

<p>
<i>Last changed: $Date: 2011-11-08 10:42:51 +0100 (Ãºt, 08 XI 2011) $</i>
<HR>
<P><a href="index.html">Main index</a> - <a href="vector.html">vector index</a> - <a href="full_index.html">Full index</a></P>
<P>&copy; 2003-2011 <a href="http://grass.osgeo.org">GRASS Development Team</a></p>
</body>
</html>
