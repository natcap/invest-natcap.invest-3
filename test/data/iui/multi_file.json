{
    "id" : "window",
    "label": "Carbon Storage and Sequestration",
    "targetScript" : "invest_natcap.carbon.carbon_biophysical",
    "modelName" : "carbon_biophysical",
    "localDocURI": "../documentation/carbonstorage.html",
    "height": 600,
    "width" : 700,
    "elements": [
        {
            "id" : "calc_sequestration",
            "type": "checkbox",
            "label": "Calculate sequestration",
            "defaultValue": false,
            "required": false
        },
        {
            "id" : "workspace_list",
            "type": "list",
            "elements":[
                {
                    "id" : "workspace",
                    "args_id" : "workspace_dir",
                    "type": "folder",
                    "label": "Workspace",
                    "defaultValue": "../Carbon",
                    "required": true
                }
            ]
        },        
        {
            "id": "multi-file",
            "type": "multi",
            "args_id": "test_list",
            "label": "Test multi-file",
            "sampleElement": {"id": "sample_id",
                              "type": "file",
                              "label": "Input raster",
                              "validateAs": {"type": "GDAL"}},
            "linkText": "Add another"
        },
        {
            "id" : "cur_lulc_box",
            "type": "container",
            "collapsible" : false,
            "label": "Current land use/land cover",
            "elements": [
                {
                    "id" : "cur_lulc_list",
                    "type" : "list",
                    "elements":[
                        {
                           "id" : "cur_lulc_raster",
                            "args_id" : "lulc_cur_uri",
                            "type": "file",
                            "label": "Raster location",
                            "defaultValue": "../Base_Data/Terrestrial/lulc_samp_cur/hdr.adf",
                            "required": true,
                            "validateAs": {"type": "GDAL"}
                        },
                        {
                            "id" : "cur_lulc_year",
                            "type": "text",
                            "width": 70,
                            "validText": "-?[0-9]+",
                            "dataType": "int",
                            "args_id": "lulc_cur_year",
                            "label": "Year of land cover",
                            "required": false,
                            "enabledBy": "calc_sequestration",
                            "defaultValue": "2000",
                            "requiredIf": ["cur_harvest_map", "fut_harvest_map"]
                        }
                    ]
                }
            ]
        },
        {
            "id" : "fut_lulc_box",
            "type": "container",
            "collapsible": false,
            "label": "Future land use/land cover",
            "elements": [
                { 
                    "id" : "fut_lulc_list",
                    "type" : "list",
                    "elements" : [
                        {
                            "id" : "fut_lulc_raster",
                            "type": "file",
                            "label": "Raster location",
                            "args_id": "lulc_fut_uri",
                            "required": false,
                            "enabledBy": "calc_sequestration",
                            "defaultValue": "../Base_Data/Terrestrial/lulc_samp_fut/hdr.adf",
                            "requiredIf": ["calc_sequestration"],
                            "validateAs": {"type": "GDAL"}
                        },
                        {
                            "id" : "fut_lulc_year",
                            "type": "text",
                            "width": 70,
                            "validText": "-?[0-9]+",
                            "dataType": "int",
                            "label": "Year of land cover",
                            "args_id": "lulc_fut_year",
                            "required": false,
                            "defaultValue": "2030",
                            "enabledBy": "calc_sequestration",
                            "requiredIf": ["fut_harvest_map"]
                        }
                    ]
                }
            ]
        },
        {
            "id" : "file_list",
            "type" : "list",
            "elements" : [
                {
                    "id" : "carbon_pools",
                    "type": "file",
                    "label": "Carbon pools",
                    "defaultValue": "../Carbon/Input/carbon_pools_samp.dbf",
                    "args_id": "carbon_pools_uri",
                    "required": true,
                    "validateAs": {"type": "DBF",
                                   "fieldsExist": ["LULC", "C_above", "C_Below", "C_Soil", "C_Dead"]}
                },
                {
                    "id" : "cur_harvest_map",
                    "type": "file",
                    "label": "Current harvest rate map",
                    "args_id": "hwp_cur_shape_uri",
                    "required": false,
                    "defaultValue": "../Carbon/Input/harv_samp_cur.shp",
                    "enabledBy": "calc_sequestration",
                    "validateAs": {"type": "OGR",
                                   "layers": [{"name": {"inheritFrom": "filename"}, "type": "polygons"}],
                                   "fieldsExist": ["Cut_cur", "Start_date", "Freq_cur", "Decay_cur", "C_den_cur", "BCEF_cur"]}
                },
                {
                    "id" : "fut_harvest_map",
                    "type": "file",
                    "label": "Future harvest rate map",
                    "args_id": "hwp_fut_shape_uri",
                    "required": false,
                    "defaultValue": "../Carbon/Input/harv_samp_fut.shp",
                    "enabledBy": "calc_sequestration",
                    "validateAs": {"type": "OGR",
                                   "layers": [{"name": {"inheritFrom": "filename"}, "type": "polygons"}],
                                   "fieldsExist": ["Cut_fut", "Freq_fut", "Decay_fut", "C_den_fut", "BCEF_fut"]}
                }
            ]
        }
    ]
}
