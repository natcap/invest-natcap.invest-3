<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>GRASS GIS manual: v.net.distance</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">

<img src="grass_logo.png" alt="GRASS logo"><hr align=center size=6 noshade>

<h2>NAME</h2>
<em><b>v.net.distance</b></em>  - Computes shortest distance via the network between the given sets of features.<BR>
Finds the shortest paths from a feature 'to' to every feature 'from' and various information about this realtion are uploaded to the attribute table.
<h2>KEYWORDS</h2>
vector, network, shortest path
<h2>SYNOPSIS</h2>
<b>v.net.distance</b><br>
<b>v.net.distance help</b><br>
<b>v.net.distance</b> [-<b>g</b>] <b>input</b>=<em>name</em> <b>output</b>=<em>name</em>  [<b>from_layer</b>=<em>integer</em>]   [<b>from_cats</b>=<em>range</em>]   [<b>from_where</b>=<em>sql_query</em>]   [<b>to_layer</b>=<em>integer</em>]   [<b>to_cats</b>=<em>range</em>]   [<b>to_where</b>=<em>sql_query</em>]   [<b>to_type</b>=<em>string</em>[,<i>string</i>,...]]  <b>afcolumn</b>=<em>name</em>  [<b>abcolumn</b>=<em>name</em>]   [--<b>overwrite</b>]  [--<b>verbose</b>]  [--<b>quiet</b>] 

<h3>Flags:</h3>
<DL>
<DT><b>-g</b></DT>
<DD>Use geodesic calculation for longitude-latitude locations</DD>

<DT><b>--overwrite</b></DT>
<DD>Allow output files to overwrite existing files</DD>
<DT><b>--verbose</b></DT>
<DD>Verbose module output</DD>
<DT><b>--quiet</b></DT>
<DD>Quiet module output</DD>
</DL>

<h3>Parameters:</h3>
<DL>
<DT><b>input</b>=<em>name</em></DT>
<DD>Name of input vector map</DD>

<DT><b>output</b>=<em>name</em></DT>
<DD>Name for output vector map</DD>

<DT><b>from_layer</b>=<em>integer</em></DT>
<DD>From layer number or name</DD>
<DD>A single vector map can be connected to multiple database tables. This number determines which table to use.</DD>
<DD>Default: <em>1</em></DD>

<DT><b>from_cats</b>=<em>range</em></DT>
<DD>From category values</DD>
<DD>Example: 1,3,7-9,13</DD>

<DT><b>from_where</b>=<em>sql_query</em></DT>
<DD>From WHERE conditions of SQL statement without 'where' keyword</DD>
<DD>Example: income &lt; 1000 and inhab &gt;= 10000</DD>

<DT><b>to_layer</b>=<em>integer</em></DT>
<DD>Layer number</DD>
<DD>To layer number or name</DD>
<DD>Default: <em>1</em></DD>

<DT><b>to_cats</b>=<em>range</em></DT>
<DD>To category values</DD>
<DD>Example: 1,3,7-9,13</DD>

<DT><b>to_where</b>=<em>sql_query</em></DT>
<DD>To WHERE conditions of SQL statement without 'where' keyword</DD>
<DD>Example: income &lt; 1000 and inhab &gt;= 10000</DD>

<DT><b>to_type</b>=<em>string[,<i>string</i>,...]</em></DT>
<DD>To feature type</DD>
<DD>Options: <em>point,line,boundary</em></DD>
<DD>Default: <em>point</em></DD>

<DT><b>afcolumn</b>=<em>name</em></DT>
<DD>Arc forward/both direction(s) cost column</DD>

<DT><b>abcolumn</b>=<em>name</em></DT>
<DD>Arc backward direction cost column</DD>

</DL>
<h2>DESCRIPTION</h2>

<em>v.net.distance</em> finds the nearast element from set <em>to</em> for every element in set <em>from</em>. 

<h2>NOTES</h2>

These two sets are given by the respective <b>layer</b>, <b>where</b> and <b>cats</b> parameters. The type of <em>to</em> features is specified by <b>to_type</b> parameter and all <em>from</em> features are <em>points</em>. A table is linked to <b>output</b> map containing various information about the relation. More specifically, the table has three columns: <em>cat</em>, <em>tcat</em> and <em>dist</em> storing category of each <em>from</em> feature, category of the nearest <em>to</em> feature and the distance between them respectively. Furthemore, <b>output</b> map contains the shorest path between each <em>cat</em>, <em>tcat</em> pair. Each path consist of several lines. If a line is on the shorest path from a point then the category of this point is assigned to the line. Note that every line may contain more than one category value since single line may be on the shortest path for more than one <em>from</em> feature. And so the shortest paths can be easily obtained by querying lines with corresponding category number.<br>
The costs of arcs in forward and backward direction are specified by <b>afcolumn</b> and <b>abcolumn</b> columns respectively. If <b>abcolumn</b> is not given, the same cost is used in both directions.  

<h2>EXAMPLES</h2>
Find shortest path and distance from every school to the nearest hospital and show path from school number one.
<div class="code"><pre>
v.net.distance input=city output=nearest from_where="type=school" to_where="type=hospital" afcolumn=SHAPE_LEN
d.vect nearest cats=1
</pre></div>
<p>

<h2>SEE ALSO</h2>

<em>
<a href="v.net.path.html">v.net.path</a>,
<a href="v.net.allpairs.html">v.net.allpairs</a>,
<a href="v.distance.html">v.net.distance</a>,
<a href="v.net.alloc.html">v.net.alloc</a>
</em>

<h2>AUTHORS</h2>

Daniel Bundala, Google Summer of Code 2009, Student<br>
Wolf Bergenheim, Mentor

<p>
<i>Last changed: $Date: 2011-11-08 10:42:51 +0100 (Ãºt, 08 XI 2011) $</i>
<HR>
<P><a href="index.html">Main index</a> - <a href="vector.html">vector index</a> - <a href="full_index.html">Full index</a></P>
<P>&copy; 2003-2011 <a href="http://grass.osgeo.org">GRASS Development Team</a></p>
</body>
</html>
