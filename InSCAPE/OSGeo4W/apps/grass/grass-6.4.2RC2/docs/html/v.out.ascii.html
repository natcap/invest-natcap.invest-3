<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>GRASS GIS manual: v.out.ascii</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">

<img src="grass_logo.png" alt="GRASS logo"><hr align=center size=6 noshade>

<h2>NAME</h2>
<em><b>v.out.ascii</b></em>  - Converts a GRASS binary vector map to a GRASS ASCII vector map.
<h2>KEYWORDS</h2>
vector, export
<h2>SYNOPSIS</h2>
<b>v.out.ascii</b><br>
<b>v.out.ascii help</b><br>
<b>v.out.ascii</b> [-<b>or</b>] <b>input</b>=<em>name</em>  [<b>output</b>=<em>name</em>]   [<b>format</b>=<em>string</em>]   [<b>fs</b>=<em>character</em>]   [<b>dp</b>=<em>integer</em>]   [<b>layer</b>=<em>integer</em>]   [<b>columns</b>=<em>name</em>[,<i>name</i>,...]]   [<b>where</b>=<em>sql_query</em>]   [--<b>verbose</b>]  [--<b>quiet</b>] 

<h3>Flags:</h3>
<DL>
<DT><b>-o</b></DT>
<DD>Create old (version 4) ASCII file</DD>

<DT><b>-r</b></DT>
<DD>Only export points falling within current 3D region (points mode)</DD>

<DT><b>--verbose</b></DT>
<DD>Verbose module output</DD>
<DT><b>--quiet</b></DT>
<DD>Quiet module output</DD>
</DL>

<h3>Parameters:</h3>
<DL>
<DT><b>input</b>=<em>name</em></DT>
<DD>Name of input vector map</DD>

<DT><b>output</b>=<em>name</em></DT>
<DD>Path to resulting ASCII file or ASCII vector name if '-o' is defined</DD>

<DT><b>format</b>=<em>string</em></DT>
<DD>Output format</DD>
<DD>Options: <em>point,standard</em></DD>
<DD>Default: <em>point</em></DD>

<DT><b>fs</b>=<em>character</em></DT>
<DD>Field separator (points mode)</DD>
<DD>Default: <em>|</em></DD>

<DT><b>dp</b>=<em>integer</em></DT>
<DD>Number of significant digits (floating point only)</DD>
<DD>Options: <em>0-32</em></DD>
<DD>Default: <em>8</em></DD>

<DT><b>layer</b>=<em>integer</em></DT>
<DD>Layer number</DD>
<DD>A single vector map can be connected to multiple database tables. This number determines which table to use.</DD>
<DD>Default: <em>1</em></DD>

<DT><b>columns</b>=<em>name[,<i>name</i>,...]</em></DT>
<DD>Name of attribute column(s) to be exported (point mode)</DD>

<DT><b>where</b>=<em>sql_query</em></DT>
<DD>WHERE conditions of SQL statement without 'where' keyword</DD>
<DD>Example: income &lt; 1000 and inhab &gt;= 10000</DD>

</DL>
<h2>DESCRIPTION</h2>

<em>v.out.ascii</em> converts a GRASS vector map in binary format to a
GRASS vector map in ASCII format. Using
flag <b>-o</b> <em>v.out.ascii</em> output will be in old (version 4)
ASCII format.

<p>
If the <b>output</b> parameter is not given then the coordinates of any 
<em>point</em> data within the vector map is sent to stdout.

<h2>NOTES</h2>

The <em><a href="v.in.ascii.html">v.in.ascii</a></em> module performs
the function of <em>v.out.ascii</em> in reverse; i.e. it converts
vector maps in ASCII format to their binary format.  These two
companion module are useful both for importing and exporting vector
maps between GRASS and other software, and for transferring data
between machines.

<p>
If the <b>format</b> parameter is set to <b>standard</b>, a GRASS
ASCII vector map will be exported, which may contain a mix of
primitives including points, lines, boundaries, centroids, areas,
faces, and kernels. The beginning of the output ascii file will
contain a header listing any metadata for the input vector map, if
such metadata exists. An example of the <b>standard</b> format is
given below.

<p>The header is similar as the head file of vector binary format but
contains bounding box also. Key words are:

<pre>
ORGANIZATION
DIGIT DATE
DIGIT NAME
MAP NAME
MAP DATE
MAP SCALE
OTHER INFO
ZONE
WEST EDGE
EAST EDGE
SOUTH EDGE
NORTH EDGE
MAP THRESH
</pre>

<p>The body begins with the row:

<pre>
VERTI:
</pre>

followed by records of primitives:

<pre>
TYPE NUMBER_OF_COORDINATES [NUMBER_OF_CATEGORIES]
 X Y [Z]
....
 X Y [Z]
[ LAYER CATEGORY]
....
[ LAYER CATEGORY]
</pre>

Everything above in <tt>[&nbsp;]</tt> is optional. 

<p>
The primitive codes are as follows:
<ul>
<li>'P': point</li>
<li>'L': line</li>
<li>'B': boundary</li>
<li>'C': centroid</li>
<li>'F': face (3D boundary)</li>
<li>'K': kernel (3D centroid)</li>
<li>'A': area (boundary) - better use 'B'; kept only for backward compatibility</li>
</ul>

The coordinates are listed following the initial line containing the
primitive code, the total number of vectors in the series, and (optionally)
the number of categories (1 for a single layer, higher for multiple layers).
Below that 1 or several lines follow to indicate the layer number and
the category number (ID).
<br>
The order of coordinates is
<div class="code"><pre>
  X Y [Z]
</pre></div>

In pre-GRASS 6 versions of the ASCII file, the order of coordinates is:
<div class="code"><pre>
Y X
</pre></div>

If old version is requested, the <b>output</b> files from <em>v.out.ascii</em> is placed 
in the <tt>$LOCATION/$MAPSET/dig_ascii/</tt> and <tt>$LOCATION/$MAPSET/dig_att</tt> directory.

<p>
Only features with a category number will be
exported. Use <em>v.category</em> to add them if needed.

<p>
<em>v.out.ascii</em> does not copy the <em>dig_cats</em> file
associated with the binary vector <em>input</em> map to the
new <em>output</em> file name. The user must copy
the <em>dig_cats</em> file to the new <em>output</em> name if this is
desired (e.g. using the UNIX <em>cp</em> command).

<p>
It is possible to output the coordinates of vertices in a non-points vector
feature by first converting the vector feature to a points map with 
<em>v.to.points</em> and then exporting with <em>v.out.ascii</em> in 
<em>points</em> mode.

<h2>EXAMPLES</h2>

<h3>Standard mode</h3>

<p>
<div class="code"><pre>
v.out.ascii input=quads format=standard

ORGANIZATION: US Army Const. Eng. Rsch. Lab
DIGIT DATE:   May 1987
DIGIT NAME:   grass
MAP NAME:     Quads
MAP DATE:     May 1987
MAP SCALE:    24000
OTHER INFO:
ZONE:         13
MAP THRESH:   18.288000
VERTI:
B  4
 599587.1820962 4914067.53414294
 589639.15126831 4913922.5687301
 589440.96838162 4927803.62500018
 599375.87959179 4927959.83330436
B  2
 599375.87959179 4927959.83330436
 599587.1820962 4914067.53414294
B  4
 599587.1820962 4914067.53414294
 609541.5508239 4914236.0597482
 609316.10665227 4928116.8490555
 599375.87959179 4927959.83330436
C  1 1
 594125.63    4921115.58
 1     1
C  1 1
 604433.84    4921087.1
 1     2
</pre></div>

<h3>Point mode</h3>

<div class="code"><pre>
v.out.ascii input=quads format=point

594125.63|4921115.58|1
604433.84|4921087.1|2
</pre></div>

<div class="code"><pre>
v.out.ascii input=archsites format=point where="cat > 5 and cat <= 8" columns=str1

600375|4925235|6|Prairie Site
606635|4920773|7|Jensen Pass
595755|4925300|8|No Name
</pre></div>

<h2>SEE ALSO</h2>

<em>
<a href="v.category.html">v.category</a>,
<a href="v.in.ascii.html">v.in.ascii</a>,
<a href="v.to.points.html">v.to.points</a><br>
<a href="sql.html">GRASS SQL interface</a>
</em>

<h2>AUTHORS</h2>

Michael Higgins, 
U.S. Army Construction Engineering 
Research Laboratory
<br>
James Westervelt, 
U.S. Army Construction Engineering 
Research Laboratory
<br>
Radim Blazek, ITC-Irst, Trento, Italy
<br>
Attribute selection added by Martin Landa, CTU in Prague, Czech Republic (2008/12)

<p>
<i>Last changed: $Date: 2011-11-08 10:42:51 +0100 (Ãºt, 08 XI 2011) $</i>
<HR>
<P><a href="index.html">Main index</a> - <a href="vector.html">vector index</a> - <a href="full_index.html">Full index</a></P>
<P>&copy; 2003-2011 <a href="http://grass.osgeo.org">GRASS Development Team</a></p>
</body>
</html>
