<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>GRASS GIS manual: d.out.file</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">

<img src="grass_logo.png" alt="GRASS logo"><hr align=center size=6 noshade>

<h2>NAME</h2>
<em><b>d.out.file</b></em>  - Saves the contents of the active display monitor to a graphics file.
<h2>KEYWORDS</h2>
display, export
<h2>SYNOPSIS</h2>
<b>d.out.file</b><br>
<b>d.out.file help</b><br>
<b>d.out.file</b> [-<b>btcrm</b>] <b>output</b>=<em>string</em> <b>format</b>=<em>string</em>  [<b>resolution</b>=<em>integer</em>]   [<b>size</b>=<em>width,height</em>]   [<b>compression</b>=<em>integer</em>]   [<b>quality</b>=<em>integer</em>]   [<b>paper</b>=<em>string</em>]   [<b>ps_level</b>=<em>integer</em>]   [<b>createopt</b>=<em>string</em>]   [<b>metaopt</b>=<em>string</em>]   [--<b>verbose</b>]  [--<b>quiet</b>] 

<h3>Flags:</h3>
<DL>
<DT><b>-b</b></DT>
<DD>Set background color to black (white default)</DD>

<DT><b>-t</b></DT>
<DD>Set transparent background</DD>

<DT><b>-c</b></DT>
<DD>Use the Cario driver to render images</DD>

<DT><b>-r</b></DT>
<DD>Set paper orientation to landscape (for PostScript output)</DD>

<DT><b>-m</b></DT>
<DD>Do not crop away margins</DD>

<DT><b>--verbose</b></DT>
<DD>Verbose module output</DD>
<DT><b>--quiet</b></DT>
<DD>Quiet module output</DD>
</DL>

<h3>Parameters:</h3>
<DL>
<DT><b>output</b>=<em>string</em></DT>
<DD>Name for output file (do NOT add extension)</DD>

<DT><b>format</b>=<em>string</em></DT>
<DD>Graphics file format</DD>
<DD>Options: <em>png,ppm,tif,geotiff,jpg,bmp,ps,eps,svg,pdf</em></DD>
<DD>Default: <em>png</em></DD>

<DT><b>resolution</b>=<em>integer</em></DT>
<DD>Dimensions of output file versus current window size</DD>
<DD>(same=1, double size=2, quadruple size=4)</DD>
<DD>Default: <em>1</em></DD>

<DT><b>size</b>=<em>width,height</em></DT>
<DD>Width and height of output image (overrides resolution setting)</DD>

<DT><b>compression</b>=<em>integer</em></DT>
<DD>Compression for PNG files</DD>
<DD>(0=none, 1=fastest, 9=most; lossless, only time vs. filesize)</DD>
<DD>Options: <em>0-9</em></DD>
<DD>Default: <em>9</em></DD>

<DT><b>quality</b>=<em>integer</em></DT>
<DD>File size/quality for JPEG files</DD>
<DD>(10=smallest/worst, 100=largest/best)</DD>
<DD>Options: <em>10-100</em></DD>
<DD>Default: <em>75</em></DD>

<DT><b>paper</b>=<em>string</em></DT>
<DD>Paper size for PostScript output</DD>
<DD>Options: <em>a4,a3,a2,a1,a0,us-letter,us-legal,us-tabloid</em></DD>
<DD>Default: <em>a4</em></DD>

<DT><b>ps_level</b>=<em>integer</em></DT>
<DD>PostScript level (only limits functionality!)</DD>
<DD>Options: <em>1-3</em></DD>
<DD>Default: <em>2</em></DD>

<DT><b>createopt</b>=<em>string</em></DT>
<DD>GeoTIFF creation option(s)</DD>
<DD>In the form of "NAME=VALUE", separate multiple entries with a comma.</DD>

<DT><b>metaopt</b>=<em>string</em></DT>
<DD>GeoTIFF metadata key(s) and value(s) to add</DD>
<DD>In the form of "META-TAG=VALUE", separate multiple entries with a comma.</DD>

</DL>
<h2>DESCRIPTION</h2>
<em>(GRASS Shell Script)</em>
<p>
<em><b>d.out.file</b></em> uses <em>d.save</em>, the GRASS PNG or PostScript
driver, and <tt>gdal_translate</tt> to export the currently selected X display
monitor to a graphics file of several formats. Output image size can be set
prior to export.
<p>
PNG and PPM formats are supported directly by the GRASS PNG driver and
PostScript output is supported directly by the GRASS PS driver.
<p>
TIFF, GeoTIFF, JPEG, and BMP formats are supported by using <tt>gdal_translate</tt>
on PPM format files produced by the GRASS PNG driver. Different levels of
compression/quality are supported for JPEG files.
<p>
Graphic files are exported to the user's current working directory by
default, but different paths may be specified in the output field.
<p>
EPS files are not compatible with <em>d.frame</em>, as it is not possible to nest
encapsulation. Only the first frame will be drawn. In these cases it is
recommended to output to regular PostScript format and then use a utility
like <tt>ps2epsi</tt> to convert to an EPS file.
Output from this module using the regular PostScript format may contain
subframes.

<p>
GeoTIFF export is provided as a convenience. For raster export
it is generally preferable to use the <em>r.out.gdal</em> or
<em>r.out.tiff</em> modules. The advantage of using <em>d.out.file</em>
is that you can easily overlay multiple raster maps, vector maps,
and decorations into the GeoTIFF at the expense of resolution and
quality. If you wish to minimize the negative effects, use
"<tt>g.region&nbsp;align=</tt>" or "<tt>g.region&nbsp;rast=</tt>", then
"<tt>g.region&nbsp;-g</tt>" or "<tt>r.info&nbsp;-g</tt>" to discover the
raster rows and columns of the map, and feed these numbers into
<em>d.out.file</em>'s <b>size</b> parameter as columns,rows.


<h2>EXAMPLES</h2>

<h4>Speafish dataset</h4>

<div class="code"><pre>
  g.region rast=slope -p
  d.mon x0
  d.rast slope
  d.vect streams type=area,line
  d.barscale at=0,94.5
  d.out.file spearfish_pic format=png size=800,600
  d.out.file spearfish_pic format=ps -r paper=a4
</pre></div>
<br>

<h4>Multi-pane PostScript output using a shaded relief map and 
<a href="http://grass.gdf-hannover.de/wiki/GRASS_AddOns#Display_add-ons">d.frame.quarter</a>
from the Wiki-Addons site</h4>

<div class="code"><pre>
  g.region rast=elevation.dem
  r.shaded.relief map=elevation.dem shad=elev.shad_relf
  d.mon x1
  d.frame.quarter
  d.frame uno
  d.his h=elevation.dem i=elev.shad_relf brighten=50
  echo "A" | d.text -b color=black size=10 at=93,5
  d.frame dos
  d.his h=slope i=elev.shad_relf brighten=40
  echo "B" | d.text -b color=black size=10 at=93,5
  d.frame tres
  d.his h=landcover.30m i=elev.shad_relf brighten=55
  echo "C" | d.text -b color=black size=10 at=93,5
  d.frame cuatro
  d.his h=trn.sites i=elev.shad_relf brighten=15
  echo "D" | d.text -b color=black size=10 at=93,5
  d.frame full_screen
  d.out.file spearfish_4 format=ps -r paper=a4
</pre></div>


<h2>SEE ALSO</h2>

<em>
<a href="d.frame.html">d.frame</a>,
<a href="d.mon.html">d.mon</a>,
<a href="d.out.png.html">d.out.png</a>,
<a href="d.save.html">d.save</a>,
<a href="g.region.html">g.region</a>,
<a href="ps.map.html">ps.map</a>,
<a href="r.out.gdal.html">r.out.gdal</a>,
<a href="r.out.tiff.html">r.out.tiff</a>
</em><br>
<a href="cairodriver.html">Cairo driver</a>,
<a href="pngdriver.html">PNG driver</a>,
<a href="psdriver.html">PostScript driver</a>,
<a href="htmlmapdriver.html">HTML-map driver</a>,
<a href="xdriver.html">X driver</a><br>
<a href="http://www.gdal.org">GDAL Homepage</a>


<h2>AUTHORS</h2>

Michael Barton, Arizona State University<br>
Hamish Bowman, Otago University, New Zealand
<p>
<i>Last changed: $Date: 2011-11-08 12:29:50 +0100 (Ãºt, 08 XI 2011) $</i>
<HR>
<P><a href="index.html">Main index</a> - <a href="display.html">display index</a> - <a href="full_index.html">Full index</a></P>
<P>&copy; 2003-2011 <a href="http://grass.osgeo.org">GRASS Development Team</a></p>
</body>
</html>
