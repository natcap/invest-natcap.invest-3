<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>GRASS GIS manual: v.net</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">

<img src="grass_logo.png" alt="GRASS logo"><hr align=center size=6 noshade>

<h2>NAME</h2>
<em><b>v.net</b></em>  - Performs network maintenance.
<h2>KEYWORDS</h2>
vector, networking, maintenance
<h2>SYNOPSIS</h2>
<b>v.net</b><br>
<b>v.net help</b><br>
<b>v.net</b> [-<b>c</b>] <b>input</b>=<em>name</em>  [<b>points</b>=<em>name</em>]   [<b>output</b>=<em>name</em>]   [<b>operation</b>=<em>string</em>]   [<b>alayer</b>=<em>integer</em>]   [<b>nlayer</b>=<em>integer</em>]   [<b>thresh</b>=<em>float</em>]   [--<b>overwrite</b>]  [--<b>verbose</b>]  [--<b>quiet</b>] 

<h3>Flags:</h3>
<DL>
<DT><b>-c</b></DT>
<DD>Assign unique categories to new points</DD>
<DD>For operation 'nodes'</DD>

<DT><b>--overwrite</b></DT>
<DD>Allow output files to overwrite existing files</DD>
<DT><b>--verbose</b></DT>
<DD>Verbose module output</DD>
<DT><b>--quiet</b></DT>
<DD>Quiet module output</DD>
</DL>

<h3>Parameters:</h3>
<DL>
<DT><b>input</b>=<em>name</em></DT>
<DD>Name of input vector map</DD>

<DT><b>points</b>=<em>name</em></DT>
<DD>Name of input point vector map</DD>
<DD>Required for operation 'connect'</DD>

<DT><b>output</b>=<em>name</em></DT>
<DD>Name for output vector map</DD>

<DT><b>operation</b>=<em>string</em></DT>
<DD>Operation to be performed</DD>
<DD>Options: <em>nodes,connect,report,nreport</em></DD>
<DD>Default: <em>nodes</em></DD>
<DD><b>nodes</b>: new point is placed on each node (line end) if doesn't exist</DD>
<DD><b>connect</b>: connect still unconnected points to vector network by inserting new line(s)</DD>
<DD><b>report</b>: print to standard output {line_category start_point_category end_point_category}</DD>
<DD><b>nreport</b>: print to standard output {point_category line_category[,line_category...]}</DD>

<DT><b>alayer</b>=<em>integer</em></DT>
<DD>Arc layer</DD>
<DD>A single vector map can be connected to multiple database tables. This number determines which table to use.</DD>
<DD>Default: <em>1</em></DD>

<DT><b>nlayer</b>=<em>integer</em></DT>
<DD>Node layer</DD>
<DD>A single vector map can be connected to multiple database tables. This number determines which table to use.</DD>
<DD>Default: <em>2</em></DD>

<DT><b>thresh</b>=<em>float</em></DT>
<DD>Threshold</DD>
<DD>Required for operation 'connect'. Connect points in given threshold.</DD>

</DL>
<h2>DESCRIPTION</h2>

<em>v.net</em> is used for network preparation and maintenance. 
It permits to insert missing nodes or arcs and to connect unconnected 
nodes to the network within a given distance threshold.
It can also report the current network graph status. 

<p>
In terms of network analysis, a network consists of nodes connected by 
arcs. In a vector map prepared for network analysis, nodes are represented 
by the grass-internal geometry type <em>node</em> and arcs by the geometry 
type <em>line</em>. If a <em>line</em> consists of several vertices and 
segments (the typical case), only its starting and ending vertex are 
regarded as network nodes. Further more, explicit starting and ending 
nodes for e.g. least cost path search or subnetwork allocation are 
represented by the geometry type point which must be identical with the 
start or end vertex (network node) of a line.

<p>
In general, network analysis will find the least costly (shortest or 
fastest) path from point A to point B by follwing the existing lines. 
This implies that the points A, B must lie at the start or end point of a 
line with is part of the network. If no line is starting or ending at a 
given point, this point is not part of the network, i.e. the point is 
unconnected and unreachable.

<h3>NOTES</h3>

If vector editing is required to modify the graph, <em>v.digit</em>
or <em>v.edit</em> can be used. Separately, 
<a href="lrs.html">Linear Referencing System</a> is available
in GRASS.

<h3>EXAMPLES</h3>

Spearfish based examples:<p>

Create nodes globally for all line ends and intersections:
<br>
<div class="code"><pre>
v.net input=roads output=roads_node operation=nodes
</pre></div>

<p>
Merge in nodes from a separate map within given threshold:
<br>
<div class="code"><pre>
echo "1|601955.1|4916944.9|start
2|594385.6|4921565.2|end" | v.in.ascii in=- cat=1 x=2 y=3 out=startend col="cat integer, \
                         east double precision, north double precision, label varchar(6)"

#create lines map connecting points to network (on layer 2)
v.net myroads points=startend out=myroads_net op=connect thresh=200
</pre></div>


<h2>SEE ALSO</h2>

<em><a href="v.digit.html">v.digit</a></em>,
<em><a href="v.edit.html">v.edit</a></em>,
<em><a href="v.net.iso.html">v.net.iso</a></em>,
<em><a href="v.net.path.html">v.net.path</a></em>,
<em><a href="v.net.steiner.html">v.net.steiner</a></em>,
<em><a href="v.net.salesman.html">v.net.salesman</a></em>

<h2>AUTHORS</h2>

Radim Blazek, ITC-Irst, Trento, Italy<br>
Martin Landa, FBK-Irst, Trento, Italy

<p><i>Last changed: $Date: 2011-11-14 09:27:31 +0100 (po, 14 XI 2011) $</i>
<HR>
<P><a href="index.html">Main index</a> - <a href="vector.html">vector index</a> - <a href="full_index.html">Full index</a></P>
<P>&copy; 2003-2011 <a href="http://grass.osgeo.org">GRASS Development Team</a></p>
</body>
</html>
