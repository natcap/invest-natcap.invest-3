import math
import numpy as np

def execute(args):
    """ Entry point for coastal vulnerability core
    
        args['foo'] - actual data structure the way I want them look like


        returns nothing"""

    pass

def compute_vulnerability_index(r_geomorphology, r_relief, r_habitats, r_slr,
                                r_windexposure, r_waveexposure, r_surge):

    vi = count_var = 6

    return math.sqrt(r_geomorphology * r_relief * r_habitats * r_slr *
                     r_windexposure * r_waveexposure * r_surge)


def cast_ray(i, j, d_max, land_raster):
    pass

def is_shore(i,j, land_raster):
    """ Determine if the current cell is on the shore, i.e. is adjascent to sea """
    assert(land_raster.shape == (3, 3))

    min_i = max(i-1, 1)
    max_i = max(i+1, land_raster.shape[0])

    min_j = max(j-1, 1)
    max_j = max(j+1, land_raster.shape[1])

    neighborhood = land_raster[min_i:max_i, min_j:max_j]

    return np.array.sum(neighborhood) < product(i in land_raster.shape)
