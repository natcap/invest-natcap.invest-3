{
    "id": "window",
    "label": "Coastal Vulnerability Assesment Tool",
    "targetScript": "invest_natcap.coastal_vulnerability.coastal_vulnerability",
    "modelName": "coastal_vulnerability",
    "localDocURI": "../documentation/coastal_vulnerability.html",
    "height": 1500,
    "width": 1000,
    "elements": [
        {
            "id": "coastal_vulnerability_list",
            "type": "list",
            "elements": [
                {
                    "id": "area_computed",
                    "args_id": "area_computed",
                    "type": "dropdown",
                    "label": "Output area: sheltered/exposed?",
                    "defaultValue": "Both",
                    "options": ["both", "sheltered"],
                    "required": true,
                    "returns": "strings",
                    "helpText": "Determine if the output data is about all the coast or about sheltered segments only."
                },
                {
                    "id":"working_directory",
                    "type": "folder",
                    "label": "Working directory",
                    "required": true,
                    "validateAs": {"type":"folder"},
                    "args_id": "workspace_dir",
                    "defaultValue": "../coastal_vulnerability"
                },
                {
                    "id":"output_base_directory",
                    "type": "folder",
                    "label": "Write data to:",
                    "required": true,
                    "validateAs": {"type":"folder"},
                    "args_id": "output_base_directory",
                    "defaultValue": "../coastal_vulnerability"
                },
                {
                    "id": "area_of_interest",
                    "args_id": "aoi_uri",
                    "type": "file",
                    "label": "Area of interest",
                    "required": true,
                    "defaultValue":
                    "../CoastalProtection/Input/AOI_BarkClay.shp",
                    "validateAs":{"type":"OGR",
                                  "layers": [{"name": {"inheritFrom":"file"},
                                  "type":"polygons"}]}
                },
                {
                    "id": "landmass_uri",
                    "args_id": "landmass_uri",
                    "type": "file",
                    "label": "Land polygon",
                    "required": true,
                    "defaultValue":
                    "../Base_Data/Marine/Land/global_polygon.shp",
                    "validateAs":{"type":"OGR",
                                  "layers": [{"name": {"inheritFrom":"file"},
                                  "type":"polygons"}]}
                },
                {
                    "id": "bathymetry_layer",
                    "args_id": "bathymetry_uri",
                    "type": "file",
                    "label": "Bathymetry layer",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../Base_Data/Marine/DEMs/claybark_dem/hdr.adf",
                    "validateAs":{"type":"GDAL"}
                },
                {
                    "id": "bathymetry_constant",
                    "args_id": "bathymetry_constant",
                    "type": "text",
                    "width": 70,
                    "label": "Layer value if path omitted",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[1-5]",
                    "defaultValue": ""
                },
                {
                    "id": "relief",
                    "args_id": "relief_uri",
                    "type": "file",
                    "label": "Relief",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../Base_Data/Marine/DEMs/claybark_dem/hdr.adf",
                    "validateAs":{"type":"GDAL"}
                },
                {
                    "id": "relief_constant",
                    "args_id": "relief_constant",
                    "type": "text",
                    "width": 70,
                    "label": "Layer value if path omitted",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[1-5]",
                    "defaultValue": ""
                },
                {
                    "id": "elevation_averaging_radius",
                    "args_id": "elevation_averaging_radius",
                    "type": "text",
                    "width": 70,
                    "label": "Elevation averaging radius (m)",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[0-9]+",
                    "defaultValue": "5000"
                },
                {
                    "id": "mean_sea_level_datum",
                    "args_id": "mean_sea_level_datum",
                    "type": "text",
                    "width": 70,
                    "label": "Mean sea level datum (m)",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[0-9]+",
                    "defaultValue": "0"
                },
                {
                    "id": "cell_size",
                    "args_id": "cell_size",
                    "type": "text",
                    "width": 70,
                    "label": "Smallest detectable feature (segment size)",
                    "required": true,
                    "dataType": "int",
                    "validText": "[0-9]+",
                    "defaultValue": "250"
                },
                {
                    "id" : "exposure_proportion",
                    "type": "text",
                    "label": "Exposure proportion",
                    "args_id": "exposure_proportion",
                    "required": true,
                    "width": 60,
                    "defaultValue": "0.8",
                    "validateAs": {"type": "number",
                                   "lteq": 1,
                                   "gteq": 0},
                    "dataType": "float",
                    "helpText": "Used to differentiate between sheltered and exposed shoreline. This should be a number between 0 and 1."
                },
                {
                    "id": "max_fetch",
                    "args_id": "max_fetch",
                    "type": "text",
                    "width": 70,
                    "label": "Fetch distance threshold (m)",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[0-9]+",
                    "defaultValue": "12000"
                },
                {
                    "id": "rays_per_sector",
                    "args_id": "rays_per_sector",
                    "type": "text",
                    "width": 70,
                    "label": "Rays per sector",
                    "required": true,
                    "dataType": "int",
                    "validText": "[0-9]+",
                    "defaultValue": "1"
                },
                {
                    "id": "H_threshold",
                    "args_id": "H_threshold",
                    "type": "text",
                    "width": 70,
                    "label": "Oceanic effect cutoff (m)",
                    "required": true,
                    "dataType": "int",
                    "validText": "[0-9]+",
                    "defaultValue": "12000"
                },
                {
                    "id": "depth_threshold",
                    "args_id": "depth_threshold",
                    "type": "text",
                    "width": 70,
                    "label": "Depth threshold (m)",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[0-9]+",
                    "defaultValue": "0"
                },
                {
                    "id": "geomorphology_uri",
                    "args_id": "geomorphology_uri",
                    "type": "file",
                    "label": "Geomorphology",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../CoastalProtection/Input/Geomorphology_BarkClay.shp",
                    "returns" : {"ifEmpty":"pass"},
                    "validateAs":{"type":"OGR",
                                  "layers": [{"name": {"inheritFrom":"file"},
                                  "type":"polygons"}]}
                },
                {
                    "id": "geomorphology_constant",
                    "args_id": "geomorphology_constant",
                    "type": "text",
                    "width": 70,
                    "label": "Layer value if path omitted",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[1-5]",
                    "defaultValue": ""
                },
                {
                    "id": "spread_radius",
                    "args_id": "spread_radius",
                    "type": "text",
                    "width": 70,
                    "label": "Coastal overlap (m)",
                    "required": true,
                    "dataType": "int",
                    "validText": "[0-9]+",
                    "defaultValue": "250"
                },
                {
                    "id":"habitats_directory_uri",
                    "args_id": "habitats_directory_uri",
                    "type": "folder",
                    "label": "Natural habitats directory",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../CoastalProtection/Input/NaturalHabitat"
                },
                {
                    "id": "habitats_csv_uri",
                    "args_id": "habitats_csv_uri",
                    "type": "file",
                    "label": "Natural habitats .CSV table",
                    "requiredIf": ["habitats_directory_uri"],
                    "enabledBy" : "habitats_directory_uri",
                    "defaultValue":
                    "../CoastalProtection/Input/NaturalHabitat_WCVI.csv",
                    "validateAs":{"type":"CSV"}
                },
                {
                    "id": "habitats_constant",
                    "args_id": "habitat_constant",
                    "type": "text",
                    "width": 70,
                    "label": "Layer value if path omitted",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[1-5]",
                    "defaultValue": ""
                },
                {
                    "id": "climatic_forcing_uri",
                    "args_id": "climatic_forcing_uri",
                    "type": "file",
                    "label": "Climatic forcing grid",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../CoastalProtection/Input/WaveWatchIII.shp",
                    "validateAs":{"type":"OGR",
                                  "layers": [{"name": {"inheritFrom":"file"},
                                  "type":"points"}]}
                },
                {
                    "id": "climatic_forcing_constant",
                    "args_id": "climatic_forcing_constant",
                    "type": "text",
                    "width": 70,
                    "label": "Layer value if path omitted",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[1-5]",
                    "defaultValue": ""
                },
                {
                    "id": "surge_potential_uri",
                    "args_id": "surge_potential_uri",
                    "type": "file",
                    "label": "Surge potential",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../Base_Data/Marine/DEMs/claybark_dem/hdr.adf",
                    "validateAs":{"type":"GDAL"}
                },
                {
                    "id": "surge_potential_constant",
                    "args_id": "surge_potential_constant",
                    "type": "text",
                    "width": 70,
                    "label": "Layer value if path omitted",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[1-5]",
                    "defaultValue": ""
                },
                {
                    "id": "continental_shelf_uri",
                    "args_id": "continental_shelf_uri",
                    "type": "file",
                    "label": "Continental shelf",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../CoastalProtection/Input/continentalShelf.shp",
                    "validateAs":{"type":"OGR",
                                  "layers": [{"name": {"inheritFrom":"file"},
                                  "type":"polygons"}]}
                },                {
                    "id" : "depth_contour",
                    "args_id": "depth_contour",
                    "type": "text",
                    "width": 60,
                    "label": "Depth countour level (m)",
                    "required": false,
                    "dataType": "int",
                    "defaultValue": "150",
                    "helpText": "Used to delineate shallow and deep areas. Continental shelf limit is at about 150m."
                },
                {
                    "id": "sea_level_rise_uri",
                    "args_id": "sea_level_rise_uri",
                    "type": "file",
                    "label": "Sea level rise",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../CoastalProtection/Input/ExampleSLR.shp",
                    "validateAs":{"type":"OGR",
                                  "layers": [{"name": {"inheritFrom":"file"},
                                  "type":"polygons"}]}
                },
                {
                    "id": "sea_level_rise_constant",
                    "args_id": "sea_level_rise_constant",
                    "type": "text",
                    "width": 70,
                    "label": "Layer value if path omitted",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[1-5]",
                    "defaultValue": ""
                },
                {
                    "id": "structures_uri",
                    "args_id": "structures_uri",
                    "type": "file",
                    "label": "Structures",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../CoastalProtection/Input/Structures_BarkClay.shp",
                    "validateAs":{"type":"OGR",
                                  "layers": [{"name": {"inheritFrom":"file"},
                                  "type":"polygon"}]}
                },
                {
                    "id": "structures_constant",
                    "args_id": "structures_constant",
                    "type": "text",
                    "width": 70,
                    "label": "Layer value if path omitted",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[1-5]",
                    "defaultValue": ""
                },
                {
                    "id": "population_uri",
                    "args_id": "population_uri",
                    "type": "file",
                    "label": "Population layer",
                    "required": true,
                    "defaultValue":
                    "../Base_Data/Marine/Population/global_pop/w001001.adf",
                    "validateAs":{"type":"GDAL"}
                },
                {
                    "id": "urban_center_threshold",
                    "args_id": "urban_center_threshold",
                    "type": "text",
                    "width": 70,
                    "label": "Min. population in urban centers",
                    "required": true,
                    "dataType": "int",
                    "validText": "[0-9]+",
                    "defaultValue": "5000"
                },
                {
                    "id": "population_radius",
                    "args_id": "population_radius",
                    "type": "text",
                    "width": 70,
                    "label": "Coastal neighborhood (radius in m)",
                    "required": true,
                    "dataType": "int",
                    "validText": "[0-9]+",
                    "defaultValue": "1000"
                },
                {
                    "id": "additional_layer_uri",
                    "args_id": "additional_layer_uri",
                    "type": "file",
                    "label": "Additional layer (point shapefile)",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../CoastalProtection/Input/ExampleSLR.shp",
                    "validateAs":{"type":"OGR",
                                  "layers": [{"name": {"inheritFrom":"file"},
                                  "type":"polygons"}]}
                },
                {
                    "id": "additional_layer_constant",
                    "args_id": "additional_layer_constant",
                    "type": "text",
                    "width": 70,
                    "label": "Layer value if path omitted",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[1-5]",
                    "defaultValue": ""
                }
            ]
        }    
    ] 
}
