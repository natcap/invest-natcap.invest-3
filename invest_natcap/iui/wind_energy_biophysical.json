{
    "id" : "window",
    "label": "",
    "targetScript" : "invest_natcap.wind_energy.wind_energy_biophysical",
    "modelName" : "wind_energy_biophysical",
    "localDocURI": "../documentation/wind_energy.html",
    "height": 900,
    "width" : 800,
    "elements": [
        {
            "id" : "workspace_list",
            "type": "list",
            "elements":[
                {
                    "id" : "workspace",
                    "args_id" : "workspace_dir",
                    "type": "folder",
                    "label": "Workspace",
                    "defaultValue": "../Wind_Energy",
                    "required": true,
                    "validateAs": {"type": "folder"},
                    "helpText": "Select a folder to be used as your workspace.  If the folder you select does not exist, it will be created for you.<br/><br/>This folder will contain the rasters produced by this model.  <b>If datasets already exist in this folder, they will be overwritten</b>."
                },
                {
                    "id" : "wind_data",
                    "args_id" : "wind_data_uri",
                    "type": "file",
                    "label": "Wind Data Points",
                    "defaultValue": "../Wind_Energy/Input/wind_data.txt",
                    "required": true,
                    "helpText": "A text file that represents the wind energy data points. The text file should be set up with the first line having the following comma separated fields:<br/> N (Unique ID), LONG (the longitude coordinate), LATI (the latitude coordinate), Ram-010m (a range of the scale parameter which varies at different heights: Ram-020m,Ram-030m,...,Ram-140m,Ram-150m), K-010m (the shape parameter which does not vary by height). The following lines should be individual and unique wind data bins with information corresponding to the fields from the first line."
                },
                {
                    "id" : "aoi",
                    "args_id" : "aoi_uri",
                    "type": "file",
                    "label": "Area Of Interest (AOI)",
                    "defaultValue": "../Wind_Energy/Input/aoi.shp",
                    "required": false,
                    "returns": {"ifEmpty": "pass"},
                    "validateAs": {"type": "OGR"},
                    "helpText": "An optional polygon shapefile that defines the area of interest. The AOI must be projected with linear units equal to meters. If the AOI is provided it will clip and project the outputs to that of the AOI. The Distance inputs are dependent on the AOI and will only be accessible if the AOI is selected. If the AOI is selected and the Distance parameters are selected, then the AOI should also cover a portion of the land polygon to calculate distances correctly." 
                },
                {
                    "id" : "bathymetry",
                    "args_id" : "bathymetry_uri",
                    "type": "file",
                    "label": "Bathymetry (DEM)",
                    "defaultValue": "../Wind_Energy/Input/bathymetry.adf",
                    "required": true,
                    "validateAs": {"type": "GDAL"},
                    "helpText": "A raster dataset for the eleveation values of the area of interest. The DEM should cover at least the entire span of the area of interest and if no AOI is provided then the default global DEM should be used."
                },
                {
                    "id" : "bottom_types",
                    "args_id" : "bottom_type_uri",
                    "type": "file",
                    "label": "Bottom Types",
                    "required": false,
                    "returns": {"ifEmpty": "pass"},
                    "validateAs": {"type": "OGR"},
                    "helpText": "CURRENTLY NOT IMPLEMENTED: A optional polygon shapefile that defines different geological bottom types. This is important in determining what types of turbines can be used and if their will be any additional costs associated with it."
                },
                {
                    "id" : "days_harv_wind_energy",
                    "args_id" : "num_days",
                    "type": "text",
                    "label": "Number of Days for Harvested Wind Energy Calculation (days)",
                    "defaultValue": "365",
                    "validText" : "^[0-9]*\\.?[0-9]+$",
                    "validateAs" : {"type" : "number",
                                    "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                    "required": true,
                    "helpText": "An integer value for the number of days for harvested wind energy. 365 days corresponds to yearly calculations and it is suggested to use 30 days for monthly energy outputs."
                },
                {
                    "id" : "air_density",
                    "args_id" : "air_density",
                    "type": "text",
                    "label": "Air Density (kgm^-3) of Standard Atmosphere",
                    "defaultValue": "1.225",
                    "validText" : "^[0-9]*\\.?[0-9]+$",
                    "validateAs" : {"type" : "number",
                                    "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                    "required": true,
                    "helpText": "A floating point value for the air density of standard atmosphere (kgm ^ -3). The U.S. standard atmosphere air density at sea leavel is 1.225. At the International Union of Pure and Applied Chemistry (IUPAC) standard temperature and pressure (0 degrees celcius and 100 kPa), dry air has a density of 1.2754 kg/m^3)."
                }
            ]
        },
        {
            "id" : "turbine_group",
            "type" : "container",
            "label" : "Turbine Properties",
            "elements" :[ 
                {
                    "id" : "turbine_list",
                    "type" : "list",
                    "elements" : [
                            {
                                "id" : "hub_height",
                                "args_id" : "hub_height",
                                "type": "dropdown",
                                "label": "Hub Heights (meters)",
                                "defaultValue": "",
                                "options" : ["10", "20", "30", "40", "50", "60", "70", "80",
                                             "90", "100", "110", "120", "130", "140", "150"],
                                "required": true,
                                "returns" : "strings",
                                "helpText": "An integer value for the hub height of the turbines."
                            },
                            {
                                "id" : "pwr_law_exponent",
                                "args_id" : "pwr_law_exponent",
                                "type": "text",
                                "label": "Power Law Exponent",
                                "defaultValue": "0.11",
                                "validText" : "^[0-9]*\\.?[0-9]+$",
                                "validateAs" : {"type" : "number",
                                                "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                                "required": true,
                                "helpText": "A floating point value for the power law exponent. See User's Guide"
                            },
                            {
                                "id" : "cutin_wspd",
                                "args_id" : "cut_in_wspd",
                                "type": "text",
                                "label": "Cut-in Wind Speed (ms^-1)",
                                "defaultValue": "4.0",
                                "validText" : "^[0-9]*\\.?[0-9]+$",
                                "validateAs" : {"type" : "number",
                                                "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                                "required": true,
                                "helpText": ""
                            },
                            {
                                "id" : "rated_wspd",
                                "args_id" : "rated_wspd",
                                "type": "text",
                                "label": "Rated Wind Speed (ms^-1)",
                                "defaultValue": "14.0",
                                "validText" : "^[0-9]*\\.?[0-9]+$",
                                "validateAs" : {"type" : "number",
                                                "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                                "required": true,
                                "helpText": ""
                            },
                            {
                                "id" : "cutout_wspd",
                                "args_id" : "cut_out_wspd",
                                "type": "text",
                                "label": "Cut-out Wind Speed (ms^-1)",
                                "defaultValue": "25.0",
                                "validText" : "^[0-9]*\\.?[0-9]+$",
                                "validateAs" : {"type" : "number",
                                                "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                                "required": true,
                                "helpText": ""
                            },
                            {
                                "id" : "turbine_rated_pwr",
                                "args_id" : "turbine_rated_pwr",
                                "type": "text",
                                "label": "Wind Turbine Rated Power (MW)",
                                "defaultValue": "3.6",
                                "validText" : "^[0-9]*\\.?[0-9]+$",
                                "validateAs" : {"type" : "number",
                                                "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                                "required": true,
                                "helpText": ""
                            },
                            {
                                "id" : "exp_out_pwr_curve",
                                "args_id" : "exp_out_pwr_curve",
                                "type": "text",
                                "label": "Exponent of Output Power Curve",
                                "defaultValue": "2",
                                "validText" : "^[0-9]+$",
                                "validateAs" : {"type" : "number",
                                                "allowedValues" : {"pattern" : "^[0-9]+$"}},
                                "required": true,
                                "helpText": ""
                            },
                            {
                                "id" : "min_depth",
                                "args_id" : "min_depth",
                                "type": "text",
                                "label": "Minimum Depth for Offshore Wind Farm Installation (m)",
                                "defaultValue": "20",
                                "validText" : "^[0-9]*\\.?[0-9]+$",
                                "validateAs" : {"type" : "number",
                                                "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                                "required": true,
                                "helpText": ""
                            },
                            {
                                "id" : "max_depth", 
                                "args_id" : "max_depth",
                                "type": "text",
                                "label": "Maximum Depth for Offshore Wind Farm Installation (m)",
                                "defaultValue": "50",
                                "validText" : "^[0-9]*\\.?[0-9]+$",
                                "validateAs" : {"type" : "number",
                                                "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                                "required": true,
                                "helpText": ""
                            }
                        ]
                    }
                ]
        },
        {
            "id" : "distance_container",
            "args_id" : "distance_container",
            "type" : "container",
            "label" : "Use Distances to Determine Wind Farm Locations",
            "collapsible" : true,
            "enabledBy": "aoi",
            "defaultValue" : false,
            "elements" : [
                {
                    "id" : "distance_list",
                    "type" : "list",
                    "elements" : [
                    {
                        "id" : "land_polygon",
                        "args_id" : "land_polygon_uri",
                        "type": "file",
                        "label": "Land Polygon to Calculate Distance From",
                        "defaultValue": "../Wind_Energy/Input/land_polygon.shp",
                        "required": true,
                        "validateAs": {"type": "OGR"},
                        "helpText": ""
                    },
                    {
                        "id" : "min_distance",
                        "args_id" : "min_distance",
                        "type" : "text",
                        "label" : "Minimum Distance (m)",
                        "defaultValue" : "1000",
                        "validText" : "^[0-9]*\\.?[0-9]+$",
                        "validateAs" : {"type" : "number",
                                        "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                        "required" : true,
                        "helpText" : "Important Information"
                    },
                    {
                        "id" : "max_distance",
                        "args_id" : "max_distance",
                        "type" : "text",
                        "label" : "Maximum Distance (m)",
                        "defaultValue" : "10000",
                        "validText" : "^[0-9]*\\.?[0-9]+$",
                        "validateAs" : {"type" : "number",
                                        "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                        "required" : true,
                        "helpText" : "Important Information"
                    }
                  ]
                }
            ]
        }
    ]
}
