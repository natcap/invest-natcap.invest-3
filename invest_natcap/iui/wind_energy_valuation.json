{
    "id" : "window",
    "label": "",
    "targetScript" : "invest_natcap.wind_energy.wind_energy_valuation",
    "modelName" : "wind_energy_valuation",
    "localDocURI": "../documentation/wind_energy.html",
    "height": 500,
    "width" : 700,
    "elements": [
        {
            "id" : "workspace_list",
            "type": "list",
            "elements":[
                {
                    "id" : "workspace",
                    "args_id" : "workspace_dir",
                    "type": "folder",
                    "label": "Workspace",
                    "defaultValue": "../Wind_Energy",
                    "required": true,
                    "validateAs": {"type": "folder"},
                    "helpText": "Select a folder to be used as your workspace.  If the folder you select does not exist, it will be created for you.<br/><br/>This folder will contain the rasters produced by this model.  <b>If datasets already exist in this folder, they will be overwritten</b>."
                },                     
                {
                    "id" : "aoi",
                    "args_id" : "aoi_uri",
                    "type": "file",
                    "label": "Area Of Interest (AOI)",
                    "defaultValue": "../Wind_Energy/Input/aoi.shp",
                    "required": true,
                    "validateAs": {"type": "OGR"},
                    "helpText": "A polygon shapefile that defines the area of interest. The AOI must be projected with linear units equal to meters." 
                },
                {
                    "id" : "biophysical_data",
                    "args_id" : "biophysical_data_uri",
                    "type": "file",
                    "label": "Biophysical Data",
                    "defaultValue": "../Wind_Energy/output/biophysical_data.shp",
                    "required": true,
                    "validateAs": {"type":"OGR",
                    			   "layers": [{"name": {"inheritFrom": "file"},
                                               "type": "points"}],
                                   "fieldsExist": ["Density", "HarvEnergy"]},
                    "helpText": ""
                },
                {
                    "id" : "turbine_info",
                    "args_id" : "turbine_info_uri",
                    "type": "file",
                    "label": "Turbine Information",
                    "required": true,
                    "helpText": "",
                    "validateAs": { "type": "CSV"}
                },
                {
                    "id" : "number_of_machines",
                    "args_id": "number_of_machines",
                    "type": "text",
                    "label": "Number Of Machines",
                    "defaultValue": "30",
                    "required": true,
                    "validText": "[0-9]+"
                },
                {
                    "id" : "dollar_per_kWh",
                    "args_id" : "dollar_per_kWh",
                    "type": "text",
                    "label": "$ / kWh",
                    "defaultValue": "0.187",
                    "validText" : "^[0-9]*\\.?[0-9]+$",
                    "validateAs" : {"type" : "number",
                                    "allowedValues" : {"pattern" : "^[0-9]*\\.?[0-9]+$"}},
                    "required": true,
                    "helpText": ""
                },
				{        
                    "id" : "grid_points",
                    "args_id" : "grid_points_uri",
                    "type": "file",
                    "label": "Grid Points",
                    "defaultValue": "",
                    "required": false,
                    "returns": {"ifEmpty": "pass"},
                    "validateAs": { "type": "CSV",
                    				"fieldsExist": ["ID", "TYPE", "LATI", "LONG"],
                    				"restrictions": [{"field": "ID",
                                    				"validateAs": {"type": "number",
                                                   				   "allowedValues": {"pattern":"^[0-9]+"}}},
                                     				{"field": "TYPE",
                                      				"validateAs": {"type": "string",
                                                    "allowedValues":{"pattern":"LAND|GRID", "flag":"ignoreCase"}}},
                                                    {"field": "LATI",
                                      				"validateAs": {"type": "number",
                                                    "allowedValues":{"pattern":"[-+]?[0-9]*\\.?[0-9]+$"}}},
                                                    {"field": "LONG",
                                      				"validateAs": {"type": "number",
                                                    "allowedValues":{"pattern":"[-+]?[0-9]*\\.?[0-9]+$"}}}
                                        ]}                                    
                                    
                },
                {
                    "id" : "land_polygon",
                    "args_id" : "land_polygon_uri",
                    "type": "file",
                    "label": "Land Polygon to Calculate Distance From",
                    "defaultValue": "../Wind_Energy/Input/land_polygon.shp",
                    "required": true,
                    "validateAs": {"type": "OGR"},
                    "helpText": "An optional polygon shapefile that represents the land and coastline that is of interest. For this input to be selectable the AOI must be selected. The AOI should also cover a portion of this land polygon to properly calculate distances. This coastal polygon, and what is covered by the AOI, will be where the distances from shore to ocean are calculated from."
                }
            ]
        }
    ]
}
