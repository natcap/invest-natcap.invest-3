{
    "id": "window",
    "label": "Coastal Protection",
    "targetScript": "invest_natcap.coastal_protection.coastal_protection",
    "modelName": "coastal_protection",
    "localDocURI": "../documentation/coastal_protection_model.html",
    "height": 900,
    "width": 900,
    "elements": [
        {
            "id": "coastal_protection_list",
            "type": "list",
            "elements": [
                {
                    "id":"output_dir",
                    "type": "folder",
                    "label": "Workspace",
                    "required": true,
                    "validateAs": {"type": "folder"},
                    "args_id": "workspace_dir",
                    "defaultValue": "../timber",
                    "helpText": "Select a folder to be used as your workspace. If the folder you select does not exist, it will be created for you.<br/><br/>This folder will contain the outputs produced by this model. <b>If outputs already exist in this folder, they will be overwritten</b>."
                },
                {
                    "id" : "results_suffix",
                    "args_id" : "suffix",
                    "type": "text",
                    "dataType": "string",
                    "label": "Results Suffix (optional)",
                    "defaultValue": "",
                    "required": false,
                    "returns": {"ifEmpty": "pass"},
                    "helpText":"A String that will be added to the end of the output file paths."
                },
                {
                    "label": "Land polygon",
                    "id": "landmass_uri",
                    "args_id": "landmass_uri",
                    "type": "file",
                    "required": true,
                    "defaultValue":
                    "../Base_Data/Marine/Land/global_polygon.shp",
                    "validateAs":{"type":"OGR",
                                  "layers": [{"name": {"inheritFrom":"file"},
                                  "type":"polygons"}]},
                    "helpText": "This input provides the model with a geographic shape of the coastal area of interest and instructs it as to the boundaries of the land and seascape."
                },
                {
                    "label": "Do you want a us to cut a cross-shore transect in GIS?",
                    "id": "cross_shore",
                    "args_id": "cross_shore",
                    "type": "dropdown",
                    "defaultValue": "no",
                    "options": ["yes", "no"],
                    "required": true,
                    "returns": "strings",
                    "helpText": "This drop down box allows you to select whether you 1) wish to have the GIS create a cross-shore transect, 2) will upload a cross-shore profile of your own or 3) prefer to have the model create a theoretical profile. The answer provided to this question will determine whether subsequent inputs are required or optional."
                },
                {
                    "label": "IF \"yes\": Bathymetric Grid (DEM) (optional)",
                    "id": "bathymetry_layer",
                    "args_id": "bathymetry_uri",
                    "type": "file",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../Base_Data/Marine/DEMs/claybark_dem/hdr.adf",
                    "validateAs":{"type":"GDAL"},
                    "helpText": "If you have answered \"(1) Yes\" to the question: \"Do you want us to cut a cross-shore transect in GIS?\", the model requires a DEM in order to cut a cross-shore profile. This bathymetric grid layer should have a vertical elevation referenced to Mean Lower Low water."
                },
                {
                    "label": "IF \"yes\": Habitat Data Directory (optional)",
                    "id":"habitats_directory_uri",
                    "args_id": "habitats_directory_uri",
                    "type": "folder",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../CoastalProtection/Input/NaturalHabitat",
                    "helpText": "If you have answered \"(1) Yes\" to the question: \"Do you want us to cut a cross-shore transect in GIS?\", the model will optionally allow for the location of natural habitats that intersect on the cross-shore transect. To do so, you must store all Natural Habitat input layers that you want to consider in a directory. Each natural habitat layer should consist of the location of those habitats, and all data in this folder must be polygon shapefiles and projected in meters. Further, each of these layers should end with an underscore followed by a unique number, for example \"_1\" or \"_2\"."
                },
                {
                    "label": "IF \"yes\": Length of your profile (kilometers)",
                    "id": "max_profile_length",
                    "args_id": "max_profile_length",
                    "type": "text",
                    "width": 70,
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "dataType": "int",
                    "validText": "[0-9]+",
                    "defaultValue": "25",
                    "helpText": "Length of your bathymetry transect, in kilometers. The model will also cut a transect of the same distance landward of your site location."
                },
                {
                    "label": "IF \"no\": Upload Your Cross-Shore Profile (optional)",
                    "id": "cross_shore_profile_uri",
                    "args_id": "cross_shore_profile_uri",
                    "type": "file",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../Base_Data/Marine/DEMs/claybark_dem/hdr.adf",
                    "validateAs":{"type":"GDAL"},
                    "helpText": "If you have answered \"(2) No, but I will upload a cross-shore profile\" to the question: \"Do you want us to cut a cross-shore transect in GIS?\", the model will not cut a cross-shore profile for you from a GIS layer, but will create a backshore profile, smooth, or manipulate a cross-shore profile of your choice. This file must a contain a minimum of 2 (X, Z) coordinates. It must be tab delimited with two columns. The first column must be the cross-shore distance X-axis, where X=0 is at the shoreline (positive X pointing seaward, negative X pointing landward). The spatial resolution of the X-axis (spacing between two X-coordinates) must be equal to 1 (dx=1). The second column must indicate the cross-shore elevations along the X-axis. Depths values must be negative (referenced to Mean Lower Low Water) and terrestrial elevations positive."
                },
                {
                    "label": "Smoothing Percentage (Value of \"0\" means no smoothing)",
                    "id": "smoothing_percentage",
                    "args_id": "smoothing_percentage",
                    "type": "text",
                    "width": 2,
                    "required": true,
                    "dataType": "int",
                    "validText": "[0-9]{2}",
                    "defaultValue": "5",
                    "helpText": "Enter a percentage value for how much you wish to smooth the profile created or fed through the model. A value of \"0\" means no smoothing."
                },
                {
                    "label": "Wave Watch III Model Data (optional)",
                    "id": "climatic_forcing_uri",
                    "args_id": "climatic_forcing_uri",
                    "type": "file",
                    "required": false,
                    "returns" : {"ifEmpty":"pass"},
                    "defaultValue":
                    "../CoastalProtection/Input/WaveWatchIII.shp",
                    "validateAs":{"type":"OGR",
                                  "layers": [{"name": {"inheritFrom":"file"},
                                  "type":"points"}]},
                    "helpText": "If you would like the model to gather wind and wave statistics that might represent oceanic conditions at your site, select the WW3 file that we prepared for you. The model will use this data to read the maximum, top 10% and top 25% wind speed as well as wave height and associated wave period values from the model grid closest to your site."
                },
                {
                    "label": "Do you wish to calculate fetch for Land Point? (optional)",
                    "id": "calculate_fetch",
                    "args_id": "calculate_fetch",
                    "type": "dropdown",
                    "defaultValue": "no",
                    "options": ["yes", "no"],
                    "required": true,
                    "returns": "strings",
                    "helpText": "This drop down box allows users to specify whether they want the model to compute fetch distances. If \"(1) Yes\" is selected, fetch radials will be extended from the Land Point (input 3) and cut based on the Land Polygon (input 4). The results will be averaged over 16 directions."
                },
                {
                    "label": "What modules do you want to run?",
                    "id": "components_to_run",
                    "args_id": "components_to_run",
                    "type": "dropdown",
                    "defaultValue": "profile generator only",
                    "options": ["profile generator only", "profile generator and near shore wave"],
                    "required": true,
                    "returns": "strings",
                    "helpText": "This drop down box allows users to specify whether they want to run thew profile generator only or the near shore wave erosion model as well."
                }
           ]
        }    
    ] 
}
