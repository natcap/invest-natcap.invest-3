{
    "id" : "window",
    "label": "Crop Pollination: Biophysical",
    "targetScript" : "invest_natcap.pollination.pollination_biophysical",
    "modelName" : "pollination_biophysical",
    "localDocURI": "../documentation/croppollination.html",
    "height": 500,
    "width" : 700,
    "elements": [
        {
            "id" : "workspace_list",
            "type": "list",
            "elements":[
                {
                    "id" : "workspace",
                    "args_id" : "workspace_dir",
                    "type": "folder",
                    "label": "Workspace",
                    "defaultValue": "../Pollination",
                    "required": true,
                    "validateAs": {"type": "folder"},
                    "helpText": "Select a folder to be used as your workspace.  If the folder you select does not exist, it will be created for you.<br/><br/>This folder will contain the rasters produced by this model.  <b>If datasets already exist in this folder, they will be overwritten</b>."
                }
            ]
        },
        {
            "id": "landcover_container",
            "type": "container",
            "label": "Land Use/Land Cover",
            "elements": [
                {
                    "id": "landcover_list",
                    "type": "list",
                    "elements":[
                        {
                           "id" : "cur_lulc_raster",
                            "args_id" : "landuse_cur_uri",
                            "type": "file",
                            "label": "Current land cover scenario raster",
                            "defaultValue": "../Base_Data/Terrestrial/lulc_samp_cur/hdr.adf",
                            "required": true,
                            "validateAs": {"type": "GDAL"},
                            "helpText": "This must be a raster dataset that GDAL can open."
                        },
                        {
                            "id" : "landcover_attribute_table",
                            "type": "file",
                            "label": "Landcover attribute table",
                            "args_id": "landuse_attributes_uri",
                            "required": true,
                            "defaultValue": "../Pollination/Input/LU.dbf",
                            "validateAs": {"type": "DBF",
                                           "fieldsExist": ["LULC"],
                                           "restrictions": [{"field": "LULC",
                                                             "validateAs": {"type": "number",
                                                                            "allowedValues": {"pattern":"[0-9]*\\.[0-9]*$"}}
                                                            }]
                                          },
                            "helpText": "Select your land use attribute table here.  It must be either a CSV or DBF."
                        },
                        {
                            "id" : "fut_lulc_raster",
                            "type": "hideableFileEntry",
                            "label": "Calculate future scenario",
                            "args_id": "landuse_fut_uri",
                            "required": false,
                            "defaultValue": "../Base_Data/Terrestrial/lulc_samp_fut/hdr.adf",
                            "validateAs": {"type": "GDAL"},
                            "helpText": "Optional.<br/><br/>Providing a future land cover scenario will cause pollinator supply and abundance to be calculated for both the current and future scenarios.  Your future land cover raster should use the same land cover attribute table as your current scenario.  If provided, this must be a raster that GDAL can open."
                        }
                    ]
                }
            ]
        },
        {
            "id": "remaining_items_list",
            "type": "list",
            "elements": [
                {
                    "id" : "guilds",
                    "type": "file",
                    "label": "Guilds table",
                    "defaultValue": "../Pollination/Input/Guild.dbf",
                    "args_id": "guilds_uri",
                    "required": true,
                    "validateAs": {"type": "DBF",
                                   "fieldsExist": ["SPECIES", "ALPHA"],
                                   "restrictions": [{"field": "ALPHA",
                                                     "validateAs": {"type": "number",
                                                                    "allowedValues": "[0-9]*\\.[0-9]*$"}}]},
                    "helpText": "This table must be either a DBF or CSV.  It must contain information specific to the various pollinators you wish to model.  Please see the documentation for details on the structure of this table."
                },
                {
                    "id" : "ag_classes",
                    "type": "text",
                    "label": "Agricultural classes (space-separated)",
                    "args_id": "ag_classes",
                    "required": false,
                    "defaultValue": "67 68 71 72 73 74 75 76 78 79 80 81 82 83 84 85 88 90 91 92",
                    "validText": "[0-9 ]*",
                    "validateAs": {"type": "string",
                                   "allowedValues": {"pattern": "[0-9 ]*"}},
                    "dataType": "string",
                    "helpText": "A space-separated list of agricultural land cover classes.<br/><br/>Example:<br/>3 7 34 35 68<br/><br/>This input is optional.  If you do not provide agricultural classes here, the entire land cover raster will be considered to be agricultural."
                },
                {
                    "id" : "results_suffix",
                    "type": "text",
                    "label": "Results suffix",
                    "args_id": "results_suffix",
                    "required": false,
                    "width": 120,
                    "validText": "[0-9a-zA-Z]*",
                    "dataType": "string",
                    "helpText": "Optional.  If provided, it must be alphanumeric.  The results suffix will be appended to the end of all output filenames."
                }
            ]
        }
    ]
}
