{
    "id" : "window",
    "label": "Wave Energy Valuation",
    "targetScript" : "invest_natcap.wave_energy.wave_energy_valuation",
    "modelName" : "wave_energy_valuation",
    "localDocURI": "../documentation/wave_energy.html",
    "height": 400,
    "width" : 800,
    "elements": [
        {
            "id" : "workspace_list",
            "type": "list",
            "elements":[
                {
                    "id" : "workspace",
                    "args_id" : "workspace_dir",
                    "type": "folder",
                    "label": "Workspace",
                    "defaultValue": "../WaveEnergy",
                    "required": true
                },          
				{        
                    "id" : "land_grid_points",
                    "args_id" : "land_gridPts_uri",
                    "type": "file",
                    "label": "Land and Grid Points Table",
                    "defaultValue": "../WaveEnergy/input/LandGridPts_WCVI.csv",
                    "required": true,
                    "validateAs": { "type": "CSV",
                    				"fieldsExist": ["ID", "TYPE", "LAT", "LONG", "LOCATION"],
                    				"restrictions": [{"field": "ID",
                                    				"validateAs": {"type": "number",
                                                   				   "allowedValues": {"pattern":"[0-9]+"}}},
                                     				{"field": "TYPE",
                                      				"validateAs": {"type": "string",
                                                    "allowedValues":{"pattern":"LAND|GRID", "flag":"ignoreCase"}}},
                                                    {"field": "LAT",
                                      				"validateAs": {"type": "number",
                                                    "allowedValues":{"pattern":"[-+]?[0-9]*\\.?[0-9]+$"}}},
                                                    {"field": "LONG",
                                      				"validateAs": {"type": "number",
                                                    "allowedValues":{"pattern":"[-+]?[0-9]*\\.?[0-9]+$"}}}
                                        ]}                                    
                                    
                },    
		        {
		            "id": "machine_econ_table",
		            "args_id": "machine_econ_uri",
		            "type": "file",
		            "label": "Machine Economic Table",
		            "defaultValue": "../WaveEnergy/input/Machine_Pelamis_Economic.csv",
		            "required": true,
		            "validateAs": { "type": "CSV",
                    				"fieldsExist": ["NAME", "VALUE", "NOTE"],
                    				"restrictions": [{"field": "NAME",
                                    				"validateAs": {"type": "string",
                                                   				   "allowedValues": {"pattern":"capmax|cc|cml|cul|col|omc|p|r|smlpm", 
                                                   				                     "flag": "ignoreCase"}}},
                                     				{"field": "VALUE",
                                      				"validateAs": {"type": "number",
                                                    "allowedValues":{"pattern":"[-+]?[0-9]*\\.?[0-9]+$"}}}
                                        ]}                                    
                                    
		        },
                {
                    "id" : "dem",
                    "args_id": "global_dem",
                    "type": "file",
                    "label": "Global Digital Elevation Model (DEM)",
                    "defaultValue": "../Base_Data/Marine/DEMs/global_dem_meters",
                    "required": true,
                    "validateAs": {"type": "GDAL"}
                },
                {
                    "id" : "wave_data",
                    "args_id": "wave_data_shape_path",
                    "type": "file",
                    "label": "Wave Data Shapefile ",
                    "helpText": "This files comes from the output of the Biophysical run when the biophysical run is provided with an AOI that is projected in Meters. This ensures that distances can properly be calculated.",
                    "defaultValue": "../WaveEnergy/Intermediate/WEM_InputOutput_Pts.shp",
                    "required": true,
                    "validateAs": {"type":"OGR",
                    			   "layers": [{"name": {"inheritFrom": "file"},
                                               "type": "polygons",
                                               "projection": {"units": "meters", "exists":true}}],
                                   "fieldsExist": ["DEPTH_M", "CAPWE_MWHY"]}
                },
                {
                    "id" : "number_of_machines",
                    "args_id": "number_of_machines",
                    "type": "text",
                    "label": "Number Of Machines",
                    "defaultValue": "28",
                    "required": true,
                    "validText": "[0-9]+"
                }
            ]
        }
    ]
}
